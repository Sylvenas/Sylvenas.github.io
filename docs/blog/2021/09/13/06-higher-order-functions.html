<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.7931e5322163c5c870ff.css" data-identity="gatsby-global-css">@font-face{font-family:icomoon;font-style:normal;font-weight:400;src:url(data:application/vnd.ms-fontobject;base64,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);src:url(data:application/vnd.ms-fontobject;base64,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#iefix) format("embedded-opentype"),url(data:font/ttf;base64,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) format("truetype"),url(data:font/woff;base64,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) format("woff"),url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzPjxmb250IGhvcml6LWFkdi14PSIxMDI0Ij48Zm9udC1mYWNlIGFzY2VudD0iOTYwIiBkZXNjZW50PSItNjQiIHVuaXRzLXBlci1lbT0iMTAyNCIvPjxnbHlwaCBob3Jpei1hZHYteD0iNTEyIi8+PGdseXBoIGQ9Ik0xMDEuODM3IDY4Ni42NDNjMC03Ni40OTMgMjUuNTQ5LTEzMS42ODYgNzUuODc4LTE2NC4wOTYgNDEuMjY3LTI2LjYyNCA4OS4wODgtMzAuNjE4IDExMy45NzEtMzAuNjE4IDYuMDQyIDAgMTAuOTA2LjMwNyAxNC4yODUuNTEyIDAgMC03Ljg4NS01MS40MDUgMzAuMjA4LTEwMi4xOTVoLTEuNzQxYy02NS45OTcgMC0yODEuMjQyLTEzLjc3My0yODEuMjQyLTE5MC44MjIgMC0xODAuMDE5IDE5Ny42ODMtMTg5LjE4NCAyMzcuMzYzLTE4OS4xODQgMy4xMjMgMCA0Ljk2Ni4xMDIgNC45NjYuMTAyLjQxIDAgMy4yMjYtLjEwMiA4LjA5LS4xMDIgMjUuNDQ2IDAgOTEuMjM4IDMuMTc0IDE1Mi4zMiAzMi45MjIgNzkuMjU4IDM4LjQgMTE5LjQ1IDEwNS40MjEgMTE5LjQ1IDE5OC45MTIgMCA5MC4zMTctNjEuMjM1IDE0NC4wNzctMTA1LjkzMyAxODMuMzk4LTI3LjI5IDI0LjAxMy01MC44OTMgNDQuNjk4LTUwLjg5MyA2NC44MTkgMCAyMC40OCAxNy4yNTQgMzUuODkxIDM5LjAxNCA1NS4zOTggMzUuMjc3IDMxLjQ4OCA2OC41NTcgNzYuMzkgNjguNTU3IDE2MS4yOCAwIDc0LjU5OC05LjY3NyAxMjQuNzIzLTY5LjMyNSAxNTYuNTE4IDYuMTk1IDMuMTc0IDI4LjIxMSA1LjQ3OCAzOS4wNjYgNy4wMTQgMzIuMzA3IDQuNDAzIDc5LjU2NSA5LjQyMSA3OS41NjUgMzUuNzg5djUuMDY5SDMzOS45NjdjLTIuMzU1LS4xMDItMjM4LjEzMS04LjgwNi0yMzguMTMxLTIyNC43MTd6bTM4MC4xMDktNDYxLjQ2NWM0LjUwNi03MS45ODctNTcuMDg4LTEyNS4wODItMTQ5LjYwNi0xMzEuNzg5LTkzLjk1Mi02LjkxMi0xNzEuMjY0IDM1LjM3OS0xNzUuNzcgMTA3LjMxNS0yLjIwMiAzNC42MTEgMTMuMDA1IDY4LjQwMyA0Mi43NTIgOTUuMzg2IDMwLjE1NyAyNy4yOSA3MS41NzggNDQuMTg2IDExNi42MzQgNDcuNTE0IDUuMzI1LjMwNyAxMC41OTguNjE0IDE1Ljg3Mi42MTQgODYuOTg5LS4wNTEgMTQ1Ljg2OS01MS4xNDkgMTUwLjExOC0xMTkuMDR6bS02MS40OTIgNTEwLjc3MWMyMy4wOTEtODEuMzA2LTExLjc3Ni0xNjYuMTk1LTY3LjM3OS0xODEuOTE0LTYuNC0xLjc5Mi0xMi45NTQtMi42NjItMTkuNjYxLTIuNjYyLTUwLjg5MyAwLTEwMS4zMjUgNTEuNTA3LTEyMC4wNjQgMTIyLjUyMi0xMC40NDUgMzkuNzMxLTkuNTc0IDc0LjY1IDIuNDA2IDEwOC4xMzQgMTEuNzI1IDMzLjAyNCAzMi45MjIgNTUuMTk0IDU5LjU0NiA2Mi43MmE3Mi45NyA3Mi45NyAwIDAgMCAxOS43MTIgMi43MTRjNjEuNDQgMCAxMDAuOTY2LTI1LjQ5OCAxMjUuNDQtMTExLjUxNHpNODE5LjIgNTYzLjJ2MTUzLjZINzE2LjhWNTYzLjJINTYzLjJWNDYwLjhoMTUzLjZWMzA3LjJoMTAyLjR2MTUzLjZoMTUzLjZ2MTAyLjRIODE5LjJ6IiBnbHlwaC1uYW1lPSJnb29nbGUrIiB1bmljb2RlPSLupIAiLz48Z2x5cGggZD0iTTEwMjQgNzc1LjExMXYtNjQwYzAtMzYuMjg4LTI3LjcxMi02NC02NC02NGgtNjR2NTgwLjhMNTEyIDM3Ni4xOTkgMTI4IDY1MS45MTF2LTU4MC44SDY0Yy0zNi4yODggMC02NCAyNy43MTItNjQgNjR2NjQwYzAgMTguMTEyIDYuOTEyIDM0LjExMiAxOC4zNjggNDUuNTY4IDExLjUyIDExLjU4NCAyNy41ODQgMTguNDMyIDQ1LjYzMiAxOC40MzJoMjEuMzEyTDUxMiA1MjkuNzk5bDQyNi42ODggMzA5LjMxMkg5NjBjMTguMTEyIDAgMzQuMTEyLTYuOTEyIDQ1LjYzMi0xOC40MzIgMTEuNDU2LTExLjQ1NiAxOC4zNjgtMjcuNDU2IDE4LjM2OC00NS41Njh6IiBnbHlwaC1uYW1lPSJicmFuZCIgdW5pY29kZT0i7qSBIi8+PGdseXBoIGQ9Ik0xMDI0IDc3Mi42NzljLTM3Ljc2LTE2LjY0LTc4LjA4LTI3Ljk2OC0xMjAuNjQtMzMuMDg4IDQzLjMyOCAyNi4wNDggNzYuNjcyIDY3LjIgOTIuMzUyIDExNi4yMjQtNDAuNTc2LTIzLjY4LTg1LjU2OC00MC45Ni0xMzMuNDQtNTAuNTYtMzguMjcyIDQwLjk2LTkyLjggNjYuNTYtMTUzLjM0NCA2Ni41Ni0xMTUuOTY4IDAtMjEwLjA0OC05NC4wOC0yMTAuMDQ4LTIwOS45MiAwLTE2LjY0IDEuOTItMzIuNjQgNS40NC00OC0xNzQuNTkyIDguMzItMzI5LjQwOCA5Mi4xNi00MzMuMDI0IDIxOC44OEM1My4xMiA4MDEuOTkxIDQyLjg4IDc2Ni4xNTEgNDIuODggNzI3LjExMWMwLTcyLjk2IDM3LjEyLTEzNy4xNTIgOTMuNDQtMTc0Ljg0OC0zNC40MzIgMS4wODgtNjYuODggMTAuNTYtOTUuMTY4IDI2LjI0di0yLjU2YzAtMTAxLjc2IDcyLjMyLTE4Ni43NTIgMTY4LjUxMi0yMDYuMDhhMjEzLjUyOCAyMTMuNTI4IDAgMCAwLTU1LjM2LTcuMjk2Yy0xMy40NCAwLTI2LjI0IDEuMjgtMzkuMDQgMy43MTIgMjYuODgtODMuNDU2IDEwNC4zMi0xNDQuMTkyIDE5Ni40OC0xNDUuOTItNzEuNjgtNTYuMzItMTYyLjU2LTg5Ljg1Ni0yNjAuNDgtODkuODU2LTE2LjY0IDAtMzMuMjguOTYtNDkuOTIgMi44OCA5My40NC01OS41MiAyMDMuNTItOTQuMzM2IDMyMi41Ni05NC4zMzYgMzg2LjU2IDAgNTk3Ljc2IDMyMCA1OTcuNzYgNTk3LjEyIDAgOC45NiAwIDE3LjkyLS42NCAyNi44OCA0MC45NiAyOS40NCA3Ni44IDY2LjU2IDEwNC45NiAxMDguOHoiIGdseXBoLW5hbWU9ImJyYW5kMiwgdHdpdHRlciIgdW5pY29kZT0i7qSCIi8+PGdseXBoIGQ9Ik02MDggNzY4aDE2MHYxOTJINjA4Yy0xMjMuNTE0IDAtMjI0LTEwMC40ODYtMjI0LTIyNHYtOTZIMjU2VjQ0OGgxMjhWLTY0aDE5MnY1MTJoMTYwbDMyIDE5Mkg1NzZ2OTZjMCAxNy4zNDYgMTQuNjU0IDMyIDMyIDMyeiIgZ2x5cGgtbmFtZT0iZmFjZWJvb2siIHVuaWNvZGU9Iu6qkCIvPjxnbHlwaCBkPSJNNDMwLjIgNjJjLTE2OS42LTE2LjgtMzE2IDYwLTMyNyAxNzEuMi0xMSAxMTEuNCAxMTcuNiAyMTUgMjg3IDIzMS44IDE2OS42IDE2LjggMzE2LTYwIDMyNi44LTE3MS4yQzcyOC4yIDE4Mi40IDU5OS42IDc4LjYgNDMwLjIgNjJ6bTMzOSAzNjkuNGMtMTQuNCA0LjQtMjQuNCA3LjItMTYuOCAyNi4yIDE2LjQgNDEuMiAxOCA3Ni42LjIgMTAyLTMzLjIgNDcuNC0xMjQuMiA0NS0yMjguNCAxLjIgMCAwLTMyLjgtMTQuMi0yNC40IDExLjYgMTYgNTEuNiAxMy42IDk0LjYtMTEuNCAxMTkuNi01Ni42IDU2LjYtMjA3LTIuMi0zMzYtMTMxLjJDNTYgNDY0LjYgMCAzNjIgMCAyNzMuNCAwIDEwNC4yIDIxNy4yIDEuMiA0MjkuNiAxLjIgNzA4IDEuMiA4OTMuNCAxNjMgODkzLjQgMjkxLjRjMCA3Ny44LTY1LjQgMTIxLjgtMTI0LjIgMTQwem0xODUgMzEwYy02Ny4yIDc0LjYtMTY2LjQgMTAzLTI1OCA4My42LTIxLjItNC42LTM0LjYtMjUuNC0zMC00Ni40IDQuNi0yMS4yIDI1LjItMzQuNiA0Ni40LTMwIDY1LjIgMTMuOCAxMzUuNi02LjQgMTgzLjQtNTkuNHM2MC44LTEyNS4yIDQwLjItMTg4LjRjLTYuNi0yMC42IDQuNi00Mi42IDI1LjItNDkuNCAyMC42LTYuNiA0Mi42IDQuNiA0OS40IDI1LjJ2LjJjMjguOCA4OC40IDEwLjYgMTkwLTU2LjYgMjY0LjZ6TTg1MC44IDY0OGMtMzIuOCAzNi40LTgxLjIgNTAuMi0xMjUuNiA0MC42LTE4LjItMy44LTI5LjgtMjItMjYtNDAuMiA0LTE4LjIgMjItMjkuOCA0MC0yNS44IDIxLjggNC42IDQ1LjQtMi4yIDYxLjQtMTkuOCAxNi0xNy44IDIwLjQtNDIgMTMuNC02My4yLTUuNi0xNy42IDQtMzYuOCAyMS44LTQyLjYgMTcuOC01LjYgMzYuOCA0IDQyLjYgMjEuOCAxNCA0My40IDUuMiA5My0yNy42IDEyOS4yek00MzkuNiAyNjMuNGMtNi0xMC4yLTE5LTE1LTI5LjItMTAuOC0xMC4yIDQtMTMuMiAxNS42LTcuNCAyNS40IDYgOS44IDE4LjYgMTQuNiAyOC42IDEwLjggMTAtMy42IDEzLjYtMTUgOC0yNS40em0tNTQuMi02OS4yYy0xNi40LTI2LjItNTEuNi0zNy42LTc4LTI1LjYtMjYgMTEuOC0zMy44IDQyLjItMTcuNCA2Ny44IDE2LjIgMjUuNCA1MC4yIDM2LjggNzYuNCAyNS44IDI2LjYtMTEuNCAzNS4yLTQxLjYgMTktNjh6TTQ0NyAzNzkuNGMtODAuNiAyMS0xNzEuOC0xOS4yLTIwNi44LTkwLjItMzUuOC03Mi40LTEuMi0xNTMgODAuMi0xNzkuNCA4NC40LTI3LjIgMTg0IDE0LjYgMjE4LjYgOTIuNiAzNC4yIDc2LjYtOC40IDE1NS4yLTkyIDE3N3oiIGdseXBoLW5hbWU9InNpbmEtd2VpYm8iIHVuaWNvZGU9Iu6qmiIvPjxnbHlwaCBkPSJNNTEyLjAwOCA5NDcuMzU4QzIyOS4yNyA5NDcuMzU4IDAgNzE4LjE0IDAgNDM1LjM2IDAgMjA5LjE0NiAxNDYuNzA0IDE3LjIyOCAzNTAuMTM2LTUwLjQ3NmMyNS41ODYtNC43MzggMzQuOTkyIDExLjExIDM0Ljk5MiAyNC42MzIgMCAxMi4yMDQtLjQ4IDUyLjU0Mi0uNjk2IDk1LjMyNC0xNDIuNDQ4LTMwLjk3Ni0xNzIuNTA0IDYwLjQxLTE3Mi41MDQgNjAuNDEtMjMuMjgyIDU5LjE3Ni01Ni44NDggNzQuOTE2LTU2Ljg0OCA3NC45MTYtNDYuNDUyIDMxLjc3OCAzLjUxIDMxLjEyNCAzLjUxIDMxLjEyNCA1MS40LTMuNjEgNzguNDc2LTUyLjc2NiA3OC40NzYtNTIuNzY2IDQ1LjY3Mi03OC4yNyAxMTkuNzc2LTU1LjY0IDE0OS4wMDQtNDIuNTU4IDQuNTg4IDMzLjA4NiAxNy44NTIgNTUuNjggMzIuNTA2IDY4LjQ2NEMzMDQuODQ2IDIyMi4wMTIgMTg1LjMgMjY1LjkyIDE4NS4zIDQ2Mi4xMDJjMCA1NS44OTggMjAuMDA0IDEwMS41NzQgNTIuNzYgMTM3LjQyOC01LjMxNiAxMi45LTIyLjg1NCA2NC45NzIgNC45NTIgMTM1LjUgMCAwIDQzLjAwNiAxMy43NTIgMTQwLjg0LTUyLjQ5IDQwLjgzNiAxMS4zNDggODQuNjM2IDE3LjAzNiAxMjguMTU0IDE3LjIzNCA0My41MDItLjE5OCA4Ny4zMzYtNS44ODYgMTI4LjI1Ni0xNy4yMzQgOTcuNzM0IDY2LjI0NCAxNDAuNjU2IDUyLjQ5IDE0MC42NTYgNTIuNDkgMjcuODcyLTcwLjUyOCAxMC4zNS0xMjIuNiA1LjAzNi0xMzUuNSAzMi44Mi0zNS44NTYgNTIuNjk0LTgxLjUzMiA1Mi42OTQtMTM3LjQyOCAwLTE5Ni42NTQtMTE5Ljc3OC0yMzkuOTUtMjMzLjc5LTI1Mi42MjQgMTguMzY0LTE1Ljg5IDM0LjcyNC00Ny4wNDYgMzQuNzI0LTk0LjgxMiAwLTY4LjUwOC0uNTk2LTEyMy42NDQtLjU5Ni0xNDAuNTA4IDAtMTMuNjI4IDkuMjIyLTI5LjU5NCAzNS4xNzItMjQuNTY2Qzg3Ny40OCAxNy4zNjggMTAyNCAyMDkuMjE4IDEwMjQgNDM1LjM2YzAgMjgyLjc4LTIyOS4yMzQgNTExLjk5OC01MTEuOTkyIDUxMS45OTh6IiBnbHlwaC1uYW1lPSJnaXRodWIiIHVuaWNvZGU9Iu6qsCIvPjxnbHlwaCBkPSJNMjU2IDMyMGMwIDM1LjM0NiAyOC42NTQgNjQgNjQgNjRzNjQtMjguNjU0IDY0LTY0YzAtMzUuMzQ2LTI4LjY1NC02NC02NC02NHMtNjQgMjguNjU0LTY0IDY0em0zODQgMGMwIDM1LjM0NiAyOC42NTQgNjQgNjQgNjRzNjQtMjguNjU0IDY0LTY0YzAtMzUuMzQ2LTI4LjY1NC02NC02NC02NHMtNjQgMjguNjU0LTY0IDY0em0zLjExMi0xMzYuNzc4YzE2LjQ4MiAxMi45ODYgNDAuMzc2IDEwLjE1NCA1My4zNjQtNi4zMzJzMTAuMTUyLTQwLjM3OC02LjMzNC01My4zNjZDNjQ0LjI0NiA4Ny4zNjYgNTc0LjMyIDY0IDUxMiA2NGMtNjIuMzIyIDAtMTMyLjI0OCAyMy4zNjYtMTc4LjE0NCA1OS41MjItMTYuNDg2IDEyLjk5LTE5LjMyIDM2Ljg4Mi02LjMzMiA1My4zNjggMTIuOTkgMTYuNDgyIDM2Ljg4MiAxOS4zMTggNTMuMzY2IDYuMzMyQzQwNy4zMTIgMTYyLjQwNCA0NTkuNjEyIDE0MCA1MTIgMTQwczEwNC42ODggMjIuNDA0IDEzMS4xMTIgNDMuMjIyek0xMDI0IDQ0OGMwIDcwLjY5Mi01Ny4zMDggMTI4LTEyOCAxMjgtNDguMTE2IDAtODkuOTkyLTI2LjU3LTExMS44NTItNjUuODItNjUuNzkyIDM1Ljk5NC0xNDUuOTUyIDU5LjI0Ni0yMzMuMjggNjQuNjA4bDc2LjM4MiAxNzEuNTI2IDE0Ni4xOTQtNDIuMkM3ODYuNTk2IDY2Ni43NzIgODIyLjE2MiA2NDAgODY0IDY0MGM1My4wMiAwIDk2IDQyLjk4IDk2IDk2cy00Mi45OCA5Ni05NiA5NmMtMzYuNTYgMC02OC4zNDItMjAuNDQyLTg0LjU1NC01MC41MTRMNjE2LjU0IDgyOC41MWMtMTguMjI0IDUuMjU4LTM3LjUzOC0zLjcyMi00NS4yNTItMjEuMDUybC0xMDMuNzctMjMzLjAyNmMtODUuMTM4LTUuOTk2LTE2My4yNjItMjkuMDIyLTIyNy42MzYtNjQuMjM2QzIxOC4wMTggNTQ5LjQ0NiAxNzYuMTE2IDU3NiAxMjggNTc2IDU3LjMwOCA1NzYgMCA1MTguNjkyIDAgNDQ4YzAtNTIuMzEyIDMxLjQwMi05Ny4yNTQgNzYuMzcyLTExNy4xMDJDNjguMzAyIDMwNi44NyA2NCAyODEuNzk0IDY0IDI1NiA2NCA3OS4yNyAyNjQuNTc2LTY0IDUxMi02NGMyNDcuNDIyIDAgNDQ4IDE0My4yNyA0NDggMzIwIDAgMjUuNzkyLTQuMyA1MC44NjItMTIuMzY4IDc0Ljg4NkM5OTIuNjAyIDM1MC43MzYgMTAyNCAzOTUuNjg4IDEwMjQgNDQ4ek04NjQgNzcyYzE5Ljg4MiAwIDM2LTE2LjExOCAzNi0zNnMtMTYuMTE4LTM2LTM2LTM2LTM2IDE2LjExOC0zNiAzNiAxNi4xMTggMzYgMzYgMzZ6TTY0IDQ0OGMwIDM1LjI5IDI4LjcxIDY0IDY0IDY0IDI1LjUwOCAwIDQ3LjU3Mi0xNS4wMDQgNTcuODQ2LTM2LjY0Ni0zMy40NDgtMjUuMzY2LTYxLjE2Ni01NC42MjYtODEuNjY2LTg2LjczOEM4MC42NTYgMzk4LjA4NiA2NCA0MjEuMTI4IDY0IDQ0OHpNNTEyIDEyYy0yMDUuNDUgMC0zNzIgMTA5LjI0Mi0zNzIgMjQ0czE2Ni41NSAyNDQgMzcyIDI0NCAzNzItMTA5LjI0MiAzNzItMjQ0UzcxNy40NSAxMiA1MTIgMTJ6bTQwNy44MiAzNzYuNjE2Yy0yMC41IDMyLjExMi00OC4yMTggNjEuMzcyLTgxLjY2NiA4Ni43MzhDODQ4LjQzIDQ5Ni45OTYgODcwLjQ5MiA1MTIgODk2IDUxMmMzNS4yOSAwIDY0LTI4LjcxIDY0LTY0IDAtMjYuODcyLTE2LjY1Ni00OS45MTQtNDAuMTgtNTkuMzg0eiIgZ2x5cGgtbmFtZT0icmVkZGl0IiB1bmljb2RlPSLuq4YiLz48L2ZvbnQ+PC9kZWZzPjwvc3ZnPg==#icomoon) format("svg")}[class*=" icon-"],[class^=icon-]{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:icomoon!important;font-style:normal;font-variant:normal;font-weight:400;line-height:1;text-transform:none}.icon-google-plus:before{color:#e36f60;content:"\e900"}.icon-brand:before{color:#d14836;content:"\e901"}.icon-brand2:before,.icon-twitter:before{color:#1da1f2;content:"\e902"}.icon-facebook:before{color:#627aac;content:"\ea90"}.icon-sina-weibo:before{content:"\ea9a"}.icon-github:before{color:#fff;content:"\eab0"}.icon-reddit:before{color:#5f99cf;content:"\eac6"}@font-face{font-family:brandon-grotesque;src:url(https://d2.music.126.net/dmusic/obj/w5zCg8OAw6HDjzjDgMK_/10029874509/c687/bc19/5ea3/c8e490c1752da40818f828bb3070c266.ttf?download=brandon-grotesque.ttf)}@font-face{font-family:Open Sans;src:url(https://d1.music.126.net/dmusic/obj/w5zCg8OAw6HDjzjDgMK_/10029878167/4a07/d74d/306a/629a55a7e793da068dc580d184cc0e31.ttf?download=Open-Sans.ttf)}a{color:inherit;text-decoration:none}*{-webkit-font-smoothing:antialiased;font-family:Open Sans,open-sans,sans-serif;margin:0;padding:0}article{overflow-x:auto}.year{color:#323a45;display:block;font:600 30px/1.5;font-size:15px;margin:.625rem 0 .5rem 1em;position:relative;text-transform:none}.year:before{background:#f36;border-radius:50%;content:" ";height:8px;left:0;margin-left:-22px;margin-top:-4px;position:absolute;top:50%;width:8px}.masonry{display:flex;flex-direction:row;justify-content:space-between;padding-top:50px}.column{display:flex;flex-direction:column}.categorie-card{border-radius:5px;box-shadow:0 1px 2px 1px hsla(270,3%,64%,.16);margin:10px;padding:10px}.post-link{margin-bottom:10px}.resume-title{color:#323a45;font-weight:600;font:600 30px/1.5 Open Sans,open-sans,sans-serif;font-size:18px}.resume-sub-title{border-bottom:1px dotted rgba(64,153,255,.6);color:#323a45;cursor:pointer;display:inline-block;font-weight:600;font:600 30px/1.5 Open Sans,open-sans,sans-serif;font-size:16px;margin:5px 0;transition:color .3s}.resume-sub-title:hover{color:#f36}.resume-p{color:#333;font-size:16px;line-height:1.9}.keywords{background:rgba(0,0,0,.05);border-top-left-radius:3px;border-top-right-radius:3px;cursor:pointer;font-family:Open Sans,open-sans,sans-serif;font-size:inherit;margin:0 3px;padding:0 3px;transition:color .3s;word-break:break-word}.keywords:hover{color:#f36}.resume-p>a{color:#2f7bbd;transition:color .3s}.resume-p>a,.resume-p>a:hover{cursor:pointer;font-size:16px;line-height:1.9}.resume-p>a:hover{color:#f36}.love-container{background:#797979;border-radius:3px;-webkit-filter:grayscale(100%);filter:grayscale(100%);height:540px;margin:20px auto;overflow:hidden;position:relative;width:100%}.resume-love{border-radius:3px;position:absolute;top:0;width:100%}.work{line-height:1.9;margin-left:18px}.work-date{margin-right:20px}.work>a{color:#2f7bbd;cursor:pointer;transition:color .3s}.work>a:hover{color:#f36}.timeline{font-family:Open Sans,open-sans,sans-serif;margin-left:20px;position:relative}.timeline:before{background:#f97171;content:"";height:100%;left:-1px;position:absolute;top:0;width:2px}.title{margin:2em auto 1em}.posts-ul{margin:14px 0;padding-left:40px}.post-li{display:flex;margin:1em auto}.post-date{font-size:14px;width:70px}.post-date-cat{color:#2f7bbd;cursor:pointer;font-size:14px;transition:color .3s;width:120px}.post-date-cat:hover{color:#f36}.post-categories{width:200px}.post-categorie{color:#2f7bbd;cursor:pointer;font-size:14px;transition:color .3s}.post-categorie:hover{color:#f36}.post-title{max-width:calc(100% - 70px)}.post-title,.post-title-cat{border-bottom:1px dotted rgba(64,153,255,.6);color:#191d22;cursor:pointer;font-size:15px;transition:color .3s}.post-title-cat:hover,.post-title:hover{border-bottom:1px solid #f36;color:#f36}</style><meta name="generator" content="Gatsby 3.10.1"/><style id="glamor-styles">code{font-family:source-code-pro, Menlo, Monaco, Consolas, monospace;font-size:14px;}.gatsby-highlight{background:#282c34;color:#ffffff;border-radius:5px;overflow:auto;tab-size:1.5em;padding:1em 0;-moz-tab-size:1.5em;}
.gatsby-highlight code[class*="gatsby-code-"],
.gatsby-highlight pre[class*="gatsby-code-"],
.gatsby-highlight pre.prism-code{height:auto !important;margin:1rem 0;font-size:14px;line-height:20px;white-space:pre-wrap;word-break:break-word;}.gatsby-highlight + .gatsby-highlight{margin-top:20px;}.gatsby-highlight-code-line{background-color:#14161a;display:block;margin:-0.125rem calc(-1rem - 15px);padding:0.125rem calc(1rem + 15px);}.token.attr-name{color:#c5a5c5;}
.token.comment,
.token.block-comment,
.token.prolog,
.token.doctype,
.token.cdata{color:#999999;}
.token.property,
.token.number,
.token.function-name,
.token.constant,
.token.symbol,
.token.deleted{color:#5a9bcf;}.token.boolean{color:#ff8b50;}.token.tag{color:#fc929e;}.token.string{color:#8dc891;}.token.punctuation{color:#5FB3B3;}
.token.selector,
.token.char,
.token.builtin,
.token.inserted{color:#D8DEE9;}.token.function{color:#79b6f2;}
.token.operator,
.token.entity,
.token.url,
.token.variable{color:#d7deea;}.token.attr-value{color:#8dc891;}.token.keyword{color:#c5a5c5;}
.token.atrule,
.token.class-name{color:#FAC863;}.token.important{font-weight:400;}.token.bold{font-weight:600;color:#323a45;}.token.italic{font-style:italic;}.token.entity{cursor:help;}.namespace{opacity:0.7;}.css-1yok9qz,[data-css-1yok9qz]{flex:1 0 auto;margin-top:50px;-webkit-flex:1 0 auto;}@media (min-width: 780px) and (max-width: 1279px){.css-1yok9qz,[data-css-1yok9qz]{margin-top:45px;}}@media (max-width: 779px){.css-1yok9qz,[data-css-1yok9qz]{margin-top:40px;}}.css-190hivd,[data-css-190hivd]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:column;min-height:calc(100vh - 40px);-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;}.css-154pfwi,[data-css-154pfwi]{margin:0;border-radius:3px;height:30px;}.css-ja0yb3,[data-css-ja0yb3]{color:#fff;font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif;margin-left:10px;font-weight:500;font-size:14px;line-height:20px;}@media (max-width: 979px){.css-ja0yb3,[data-css-ja0yb3]{font-size:16px;margin-top:1px;}}@media (max-width: 599px){.css-ja0yb3,[data-css-ja0yb3]{position:absolute;overflow:hidden;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;border:0;}}.css-qudo5w,[data-css-qudo5w]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;margin-right:10px;height:100%;align-items:center;color:#61dafb;-webkit-box-align:center;-webkit-align-items:center;}.css-qudo5w:focus,[data-css-qudo5w]:focus{outline:0;color:#ffffff;}@media (min-width: 600px){.css-qudo5w,[data-css-qudo5w]{width:calc(100% / 3);}}@media (max-width: 599px){.css-qudo5w,[data-css-qudo5w]{flex:0 0 auto;-webkit-flex:0 0 auto;}}.css-v72wnb,[data-css-v72wnb]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:row;align-items:stretch;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;height:100%;width:60%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-box-align:stretch;-webkit-align-items:stretch;}@media (min-width: 0px) and (max-width: 599px){.css-v72wnb,[data-css-v72wnb]{width:auto;}}@media (max-width: 599px){.css-v72wnb,[data-css-v72wnb]{mask-image:-webkit-linear-gradient(to right, transparent, black 13px, black 90%, transparent); mask-image: -moz-linear-gradient(to right, transparent, black 13px, black 90%, transparent); mask-image: linear-gradient(to right, transparent, black 13px, black 90%, transparent);-webkit-mask-image:-webkit-linear-gradient(to right, transparent, black 13px, black 90%, transparent); -webkit-mask-image: -moz-linear-gradient(to right, transparent, black 13px, black 90%, transparent); -webkit-mask-image: linear-gradient(to right, transparent, black 13px, black 90%, transparent);}}.css-10ayjkp,[data-css-10ayjkp]{padding:5px 10px;margin-left:10px;white-space:nowrap;font-size:15px;}.css-10ayjkp:hover,[data-css-10ayjkp]:hover{color:#61dafb;}.css-10ayjkp:focus,[data-css-10ayjkp]:focus{outline:0;background-color:#373940;border-radius:15px;}.css-14nlkyt,[data-css-14nlkyt]{padding:5px 10px;margin-left:10px;white-space:nowrap;font-size:14px;}.css-14nlkyt:hover,[data-css-14nlkyt]:hover{color:#61dafb;}.css-14nlkyt:focus,[data-css-14nlkyt]:focus{outline:0;background-color:#373940;border-radius:15px;}@media (max-width: 779px){.css-dkzafi,[data-css-dkzafi]{display:none;}}@media (min-width: 980px){.css-dkzafi,[data-css-dkzafi]{width:calc(100% / 6);}}.css-1xv6vnd,[data-css-1xv6vnd]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:row;align-items:center;height:50px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;}@media (min-width: 600px) and (max-width: 1279px){.css-1xv6vnd,[data-css-1xv6vnd]{height:45px;}}@media (max-width: 599px){.css-1xv6vnd,[data-css-1xv6vnd]{height:40px;}}.css-1mevcx1,[data-css-1mevcx1]{padding-left:20px;padding-right:20px;margin-left:auto;margin-right:auto;overflow-x:auto;}@media (min-width: 780px){.css-1mevcx1,[data-css-1mevcx1]{width:90%;}}@media (min-width: 1340px){.css-1mevcx1,[data-css-1mevcx1]{max-width:900px;}}.css-16n14tl,[data-css-16n14tl]{background-color:#252b33;color:#ffffff;position:fixed;z-index:1;width:100%;top:0;left:0;}.css-1cxcbpn,[data-css-1cxcbpn]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:row;align-items:center;color:#ffffff;transition:color 0.2s ease-out;padding-left:15px;padding-right:15px;font-weight:400;font-family:brandon-grotesque;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-webkit-transition:color 0.2s ease-out;-moz-transition:color 0.2s ease-out;}.css-1cxcbpn:focus,[data-css-1cxcbpn]:focus{outline:0;background-color:#373940;color:#ffffff;}@media (min-width: 0px) and (max-width: 599px){.css-1cxcbpn,[data-css-1cxcbpn]{padding-left:8px;padding-right:8px;font-size:14px;}}@media (min-width: 600px) and (max-width: 979px){.css-1cxcbpn,[data-css-1cxcbpn]{padding-left:10px;padding-right:10px;font-size:14px;}}@media (min-width: 1280px){.css-1cxcbpn,[data-css-1cxcbpn]{padding-left:20px;padding-right:20px;font-size:13px;}.css-1cxcbpn:hover:not(:focus),[data-css-1cxcbpn]:hover:not(:focus){color:#f36;}}.css-gczsff,[data-css-gczsff]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex:0 0 auto;flex-direction:row;align-items:center;padding-left:0.5rem;padding-right:0.5rem;font-size:15px;cursor:pointer;-webkit-flex:0 0 auto;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;}@media (max-width: 599px){.css-gczsff,[data-css-gczsff]{justify-content:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;}}@media (max-width: 979px){.css-gczsff,[data-css-gczsff]{margin-right:10px;}}@media (min-width: 600px) and (max-width: 979px){.css-gczsff,[data-css-gczsff]{width:calc(100% / 3);}}@media (min-width: 780px) and (max-width: 1339px){.css-gczsff,[data-css-gczsff]{width:calc(100% / 6);}}@media (min-width: 600px){.css-gczsff,[data-css-gczsff]{min-width:20px;}}.css-1yqaa96,[data-css-1yqaa96]{line-height:25px;p > img:[object Object];}.css-1yqaa96 .gatsby-highlight,[data-css-1yqaa96] .gatsby-highlight{margin-top:25px;margin-left:-30px;margin-right:-30px;margin-bottom:25px;padding-left:35px;padding-right:15px;}.css-1yqaa96 a:not(.anchor):not(.gatsby-resp-image-link),[data-css-1yqaa96] a:not(.anchor):not(.gatsby-resp-image-link){color:#2f7bbd;transition:color .3s;border-bottom:1px dotted rgba(64, 153, 255, .6);-webkit-transition:color .3s;-moz-transition:color .3s;}.css-1yqaa96 a:not(.anchor):not(.gatsby-resp-image-link):hover,[data-css-1yqaa96] a:not(.anchor):not(.gatsby-resp-image-link):hover{color:#f36;}.css-1yqaa96 table,[data-css-1yqaa96] table{border-collapse:collapse;border-spacing:0;}.css-1yqaa96 table th,[data-css-1yqaa96] table th{font-size:15px;color:#323a45;background:#F3F3F3;border:1px solid #E6E6E6;padding:5px 8px;}.css-1yqaa96 table td,[data-css-1yqaa96] table td{border:1px solid #E6E6E6;padding:5px 8px;}.css-1yqaa96 strong,[data-css-1yqaa96] strong{font-weight:600;font-size:15px;color:#323a45;}.css-1yqaa96 p,[data-css-1yqaa96] p{margin-top:30px;color:#333;font-size:16px;line-height:1.9;}.css-1yqaa96 p:first-of-type,[data-css-1yqaa96] p:first-of-type{margin-top:15px;}.css-1yqaa96 p:first-child,[data-css-1yqaa96] p:first-child{margin-top:0;}.css-1yqaa96 h3 + p,[data-css-1yqaa96] h3 + p, .css-1yqaa96 h3 + p:first-of-type, [data-css-1yqaa96] h3 + p:first-of-type{margin-top:20px;}.css-1yqaa96 p > code,[data-css-1yqaa96] p > code, .css-1yqaa96 li > code, [data-css-1yqaa96] li > code{padding:0 3px;font-size:inherit;word-break:break-word;font-family:"Open Sans", "open-sans", sans-serif;background:rgba(0, 0, 0, .05);margin:0 3px;border-radius:3px;}.css-1yqaa96 hr,[data-css-1yqaa96] hr{height:1px;margin-bottom:-1px;border:none;border-bottom:1px solid #ececec;margin-top:40px;}.css-1yqaa96 hr:first-child,[data-css-1yqaa96] hr:first-child{margin-top:0;}.css-1yqaa96 h1,[data-css-1yqaa96] h1{line-height:1.2;color:#323a45;}.css-1yqaa96 h2,[data-css-1yqaa96] h2{color:#323a45;border-top:1px solid #ececec;margin-top:20px;padding-top:20px;line-height:1.2;}.css-1yqaa96 h2:first-child,[data-css-1yqaa96] h2:first-child{border-top:0;margin-top:0;padding-top:0;}.css-1yqaa96 hr + h2,[data-css-1yqaa96] hr + h2{border-top:0;margin-top:0;}.css-1yqaa96 h3,[data-css-1yqaa96] h3{padding-top:50px;color:#323a45;font-weight:600;}.css-1yqaa96 h2 + h3,[data-css-1yqaa96] h2 + h3, .css-1yqaa96 h2 + h3:first-of-type, [data-css-1yqaa96] h2 + h3:first-of-type{padding-top:30px;}.css-1yqaa96 h4,[data-css-1yqaa96] h4{font-size:16px;color:#323a45;line-height:1.3;margin-top:35px;font-weight:600;}.css-1yqaa96 h5,[data-css-1yqaa96] h5{font-size:16px;color:#323a45;line-height:1.3;margin-top:20px;font-weight:600;}.css-1yqaa96 h4 + p,[data-css-1yqaa96] h4 + p{margin-top:20px;}.css-1yqaa96 h5 + p,[data-css-1yqaa96] h5 + p{margin-top:20px;}.css-1yqaa96 ol,[data-css-1yqaa96] ol, .css-1yqaa96 ul, [data-css-1yqaa96] ul{margin-top:20px;font-size:16px;color:#1a1a1a;padding-left:20px;}.css-1yqaa96 ol p,[data-css-1yqaa96] ol p, .css-1yqaa96 ul p, [data-css-1yqaa96] ul p, .css-1yqaa96 ol p:first-of-type, [data-css-1yqaa96] ol p:first-of-type,  .css-1yqaa96 ul p:first-of-type,  [data-css-1yqaa96] ul p:first-of-type{font-size:16px;margin-top:0;line-height:1.9;}.css-1yqaa96 ol li,[data-css-1yqaa96] ol li, .css-1yqaa96 ul li, [data-css-1yqaa96] ul li{margin-top:20px;}.css-1yqaa96 ol li.button-newapp,[data-css-1yqaa96] ol li.button-newapp, .css-1yqaa96 ul li.button-newapp, [data-css-1yqaa96] ul li.button-newapp{margin-top:0;}.css-1yqaa96 ol ol,[data-css-1yqaa96] ol ol, .css-1yqaa96 ul ol, [data-css-1yqaa96] ul ol, .css-1yqaa96 ol ul, [data-css-1yqaa96] ol ul,  .css-1yqaa96 ul ul,  [data-css-1yqaa96] ul ul{margin-left:20px;}.css-1yqaa96 img,[data-css-1yqaa96] img{max-width:100%;}.css-1yqaa96 ol,[data-css-1yqaa96] ol{list-style:decimal;}.css-1yqaa96 ul,[data-css-1yqaa96] ul{list-style:disc;}.css-1yqaa96 blockquote,[data-css-1yqaa96] blockquote{border-left-color:#333;border-left-width:3px;border-left-style:solid;font-style:italic;padding:0 29px 0 20px;margin-bottom:30px;margin-top:20px;margin-left:-30px;margin-right:-30px;}.css-1yqaa96 blockquote p,[data-css-1yqaa96] blockquote p{margin-top:15px;}.css-1yqaa96 blockquote p:first-of-type,[data-css-1yqaa96] blockquote p:first-of-type{font-weight:400;margin-left:7px;}.css-1yqaa96 blockquote p:nth-of-type(2),[data-css-1yqaa96] blockquote p:nth-of-type(2){margin-top:0;}.css-1yqaa96 .gatsby-highlight + blockquote,[data-css-1yqaa96] .gatsby-highlight + blockquote{margin-top:40px;background:#EDEFF3;padding:20px;font-size:14px !important;}@media (max-width: 599px){.css-1yqaa96 .gatsby-highlight,[data-css-1yqaa96] .gatsby-highlight{margin-left:-20px;margin-right:-20px;border-radius:0;}.css-1yqaa96 blockquote,[data-css-1yqaa96] blockquote{margin-left:-20px;margin-right:-20px;}}@media (max-width: 979px){.css-1yqaa96 p,[data-css-1yqaa96] p{font-size:16px;margin-top:25px;}.css-1yqaa96 h2,[data-css-1yqaa96] h2{font-size:20px;}}@media (min-width: 0px) and (max-width: 599px){.css-1yqaa96 h1,[data-css-1yqaa96] h1{font-size:24px;}}@media (min-width: 600px) and (max-width: 1279px){.css-1yqaa96 h1,[data-css-1yqaa96] h1{font-size:24px;}}@media (min-width: 1280px){.css-1yqaa96 h1,[data-css-1yqaa96] h1{font-size:24px;}.css-1yqaa96 h2,[data-css-1yqaa96] h2{font-size:20px;}.css-1yqaa96 h3,[data-css-1yqaa96] h3{font-size:18px;line-height:1.3;}}.css-n3wuan,[data-css-n3wuan]{margin-top:40px;margin-bottom:120px;padding:0 20px;}@media (min-width: 780px){.css-n3wuan,[data-css-n3wuan]{margin-top:50px;}}.css-5nmmc4,[data-css-5nmmc4]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:column;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;}@media (min-width: 2000px){.css-5nmmc4,[data-css-5nmmc4]{position:fixed;right:0;width:300px;z-index:2;}}.css-j4q8zh,[data-css-j4q8zh]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;min-height:calc(100vh - 60px);}@media (min-width: 2000px){.css-j4q8zh,[data-css-j4q8zh]{max-width:840px;margin-left:auto;margin-right:auto;}}.css-12vsfho,[data-css-12vsfho]{flex:1 0 auto;-webkit-flex:1 0 auto;}.css-5v0gxc,[data-css-5v0gxc]{width:100%;flex:1 0 auto;position:relative;z-index:0;-webkit-flex:1 0 auto;}.css-95xunl,[data-css-95xunl]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:column;flex-grow:1;flex-shrink:0;flex-basis:auto;justify-content:flex-start;align-items:stretch;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-webkit-flex-grow:1;-webkit-flex-shrink:0;-webkit-flex-basis:auto;-webkit-box-pack:start;-webkit-justify-content:flex-start;-webkit-box-align:stretch;-webkit-align-items:stretch;}.css-qvgrb1,[data-css-qvgrb1]{color:#fff;margin-bottom:0;margin-top:40px;font-size:30px;line-height:40px;letter-spacing:.08em;font-weight:400;font-family:"brandon-grotesque", sans-serif;text-transform:uppercase;}@media (max-width: 779px){.css-qvgrb1,[data-css-qvgrb1]{font-size:20px;line-height:45px;}}@media (min-width: 780px) and (max-width: 979px){.css-qvgrb1,[data-css-qvgrb1]{margin-top:60px;}}@media (min-width: 980px){.css-qvgrb1,[data-css-qvgrb1]{margin-top:80px;}}.css-1vzv80m,[data-css-1vzv80m]{margin-top:15px;color:#abb0b7;font-style:italic;letter-spacing:.005em;font-size:12px;font-weight:300;}.css-ughd3t,[data-css-ughd3t]{position:relative;text-align:center;width:100%;height:200px;overflow:hidden;background:#323a45;}.css-hgc6lu,[data-css-hgc6lu]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:row;flex-grow:0;flex-shrink:1;flex-basis:auto;justify-content:space-between;align-items:baseline;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-webkit-flex-grow:0;-webkit-flex-shrink:1;-webkit-flex-basis:auto;-webkit-box-pack:justify;-webkit-justify-content:space-between;-webkit-box-align:baseline;-webkit-align-items:baseline;}.css-1xjy9ic,[data-css-1xjy9ic]{margin-left:auto;margin-right:auto;}@media (min-width: 780px){.css-1xjy9ic,[data-css-1xjy9ic]{width:90%;}}@media (min-width: 1340px){.css-1xjy9ic,[data-css-1xjy9ic]{max-width:900px;}}.css-174qq1k,[data-css-174qq1k]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:column;flex-grow:1;flex-shrink:1;flex-basis:auto;justify-content:flex-start;align-items:stretch;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-webkit-flex-grow:1;-webkit-flex-shrink:1;-webkit-flex-basis:auto;-webkit-box-pack:start;-webkit-justify-content:flex-start;-webkit-box-align:stretch;-webkit-align-items:stretch;}.css-86uhag,[data-css-86uhag]{font-size:.8rem;margin-bottom:20px;}.css-gyrv08,[data-css-gyrv08]{display:none;}.css-1eushs4,[data-css-1eushs4]{padding:8px 17px;border:1px solid #abb0b7;border-radius:3px;font-size:14px;font-weight:400;color:#333;transition:all .2s;-webkit-transition:all .2s;-moz-transition:all .2s;}.css-1eushs4:hover,[data-css-1eushs4]:hover{background-color:#55acee;color:#fff;}.css-x76up1,[data-css-x76up1]{display:inline-block;margin-right:0.5em;}.css-9st2on,[data-css-9st2on]{padding:8px 17px;border:1px solid #abb0b7;border-radius:3px;font-size:14px;font-weight:400;color:#333;transition:all .2s;-webkit-transition:all .2s;-moz-transition:all .2s;}.css-9st2on:hover,[data-css-9st2on]:hover{background-color:#3b5998;color:#fff;}.css-oqtow6,[data-css-oqtow6]{padding:8px 17px;border:1px solid #abb0b7;border-radius:3px;font-size:14px;font-weight:400;color:#333;transition:all .2s;-webkit-transition:all .2s;-moz-transition:all .2s;}.css-oqtow6:hover,[data-css-oqtow6]:hover{background-color:#dd4b39;color:#fff;}.css-92irrj,[data-css-92irrj]{padding:8px 17px;border:1px solid #abb0b7;border-radius:3px;font-size:14px;font-weight:400;color:#333;transition:all .2s;-webkit-transition:all .2s;-moz-transition:all .2s;}.css-92irrj:hover,[data-css-92irrj]:hover{background-color:#0976b4;color:#fff;}.css-7c9av6,[data-css-7c9av6]{margin:0;padding:0;}.css-gjwx19,[data-css-gjwx19]{margin-top:80px;border-top:1px solid #abb0b7;padding-top:20px;}@media (min-width: 0px) and (max-width: 599px){.css-e7nlp3,[data-css-e7nlp3]{margin-top:40px;}}@media (min-width: 600px) and (max-width: 979px){.css-e7nlp3,[data-css-e7nlp3]{margin-top:0;}}@media (min-width: 780px) and (max-width: 1279px){.css-e7nlp3,[data-css-e7nlp3]{margin-top:50px;}}@media (min-width: 600px){.css-e7nlp3,[data-css-e7nlp3]{transform:none !important;-webkit-transform:none !important;}}@media (max-width: 599px){.css-1vrdrc4,[data-css-1vrdrc4]{top:0;left:0;bottom:0;right:0;position:fixed;background-color:#ffffff;z-index:2;height:100vh;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:none;}}@media (min-width: 780px){.css-1vrdrc4,[data-css-1vrdrc4]{margin-right:-999px;padding-right:999px;}}@media (min-width: 780px) and (max-width: 1999px){.css-1vrdrc4,[data-css-1vrdrc4]{position:fixed;z-index:2;height:100%;}}@media (min-width: 600px){.css-1vrdrc4,[data-css-1vrdrc4]{position:fixed;z-index:2;height:calc(100vh - 60px);overflow-y:auto;-webkit-overflow-scrolling:touch;margin-right:-999px;padding-right:999px;opacity:1 !important;}}@media (min-width: 600px) and (max-width: 779px){.css-1vrdrc4,[data-css-1vrdrc4]{height:calc(100vh - 40px);}}@media (min-width: 780px) and (max-width: 1279px){.css-1vrdrc4,[data-css-1vrdrc4]{height:calc(100vh - 50px);}}.css-kh5h8y,[data-css-kh5h8y]{width:100%;padding-left:20px;position:relative;font-size:13px;}@media (min-width: 1100px){.css-kh5h8y,[data-css-kh5h8y]{padding-left:40px;}}@media (max-width: 599px){.css-kh5h8y,[data-css-kh5h8y]{padding-bottom:100px;}}.css-1aai96l,[data-css-1aai96l]{display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;flex-direction:column;flex-grow:0;flex-shrink:1;flex-basis:auto;justify-content:flex-start;align-items:stretch;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-webkit-flex-grow:0;-webkit-flex-shrink:1;-webkit-flex-basis:auto;-webkit-box-pack:start;-webkit-justify-content:flex-start;-webkit-box-align:stretch;-webkit-align-items:stretch;}</style><script id="glamor-ids">
        // <![CDATA[
        window._glamor = ["ktpazh","5779ll","1vv77hc","1jld97y","1b1t4gw","14f2gh7","1u4y56u","1h2fzrm","syyzfr","ki8d3w","o0vamj","1j3hxv8","zsednb","2x6ipt","nf6sef","6kb8y3","1ogfv32","h7y4wy","kgt1pa","qcikeu","9cb5ay","lhlvbt","f5j1cd","1yok9qz","190hivd","154pfwi","ja0yb3","qudo5w","v72wnb","10ayjkp","14nlkyt","dkzafi","1xv6vnd","1mevcx1","16n14tl","1cxcbpn","gczsff","1yqaa96","n3wuan","5nmmc4","j4q8zh","12vsfho","5v0gxc","95xunl","qvgrb1","1vzv80m","ughd3t","hgc6lu","1xjy9ic","174qq1k","86uhag","gyrv08","1eushs4","x76up1","9st2on","oqtow6","92irrj","7c9av6","gjwx19","e7nlp3","1vrdrc4","kh5h8y","1aai96l"]
        // ]]>
        </script><title data-react-helmet="true">05-recursion - little forest</title><meta data-react-helmet="true" property="og:title" content="05-recursion - little forest"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:url" content="https://sylvenas.github.io/blog/2021/09/02/05-recursion.html"/><meta data-react-helmet="true" property="og:image" content="/logo-og.png"/><meta data-react-helmet="true" property="og:description" content="Little Forset Blog - 递归 你好，递归！ [$img/recursion.png] 前面的章节中我们简要谈了一下递归。而在本章，我们会深入地了解到它为何在haskell中是如此重要，能够以递归思想写出简洁优雅的代码。 如果你还不明白什么是递归，就读这个句子。哈哈！玩笑而已！递归实际上是定义函数以调用自身的方式。在数学定义中，递归随处可见，如斐波那契数列（fibonacci）。它先是定义两个非递归的数：F(0)=0,F(1)=1，表示斐波那契数列的前两个数为0和…"/><meta data-react-helmet="true" property="fb:app_id" content="623268441017527"/><script data-react-helmet="true" type="application/ld+json">
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?128683c0ba41f92f130e92ac9620d31b";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
    </script><link rel="icon" href="/favicon-32x32.png?v=a30ccf9c3eea9c4abbc0c622979a4392" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=a30ccf9c3eea9c4abbc0c622979a4392"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=a30ccf9c3eea9c4abbc0c622979a4392"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=a30ccf9c3eea9c4abbc0c622979a4392"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=a30ccf9c3eea9c4abbc0c622979a4392"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=a30ccf9c3eea9c4abbc0c622979a4392"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=a30ccf9c3eea9c4abbc0c622979a4392"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=a30ccf9c3eea9c4abbc0c622979a4392"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=a30ccf9c3eea9c4abbc0c622979a4392"/><link as="script" rel="preload" href="/webpack-runtime-28820cc0d1eb9923685e.js"/><link as="script" rel="preload" href="/framework-3413ebc5e40f5b37083e.js"/><link as="script" rel="preload" href="/app-2da2baf1ea42ef5ec3ab.js"/><link as="script" rel="preload" href="/8b4e6025f464e9cebcbb2d5697e5d8bd86d9dc4c-cca36b705ed268e7ad36.js"/><link as="script" rel="preload" href="/component---src-templates-blog-template-js-67148830b6899868fcd2.js"/><link as="fetch" rel="preload" href="/page-data/blog/2021/09/13/06-higher-order-functions.html/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="css-190hivd"><header class="css-16n14tl"><div class="css-1mevcx1"><div class="css-1xv6vnd"><a class="css-qudo5w" href="/"><img src="https://p6.music.126.net/obj/wo3DlcOGw6DClTvDisK1/10032663585/7754/a2ab/5685/fa6b0f0675dcd210c2e285367ec352e5.png" class="css-154pfwi"/><span class="css-ja0yb3">little forest</span></a><nav class="css-v72wnb"><a class="css-1cxcbpn" href="/">HOME</a><a class="css-1cxcbpn" href="/archive">ARCHIVE</a><a class="css-1cxcbpn" href="/categories">CATEGORIES</a><a class="css-1cxcbpn" href="/resume">RESUME</a></nav><div class="css-gczsff"><a href="https://github.com/sylvenas" target="_blank" rel="noopener" class="css-14nlkyt"><i class="icon-github"></i></a></div><div class="css-dkzafi"><a href="https://twitter.com/TaoZhao_" target="_blank" rel="noopener" class="css-10ayjkp"><i class="icon-twitter"></i></a><a href="mailto:wrsden@gmail.com?subject=little forest" target="_blank" rel="noopener" class="css-14nlkyt"><i class="icon-brand"></i></a></div></div></div></header><main class="css-1yok9qz"><div class="css-5v0gxc css-95xunl"><div class="css-12vsfho"><header class="css-hgc6lu"><div class="css-ughd3t"><h1 class="css-qvgrb1">06-higher order functions</h1><div class="css-1vzv80m">September 12, 2021<!-- --> <span>by<!-- --> <!-- -->Sylvenas</span></div></div></header><div class="css-1xjy9ic"><div class="css-j4q8zh"><article class="css-174qq1k"><div class="css-n3wuan"><div class="css-1yqaa96"><h1>高阶函数</h1>
<p>[$img/sun.png]</p>
<p>haskell中的函数可以作为参数和返回值传来传去，这样的函数就被称作高阶函数。高阶函数可不只是某简单特性而已，它贯穿于haskell的方方面面。要拒绝循环与状态的改变而通过定义问题"是什么"来解决问题，高阶函数必不可少。它们是编码的得力工具。</p>
<h2>柯里函数</h2>
<p>本质上，haskell的所有函数都只有一个参数，那么我们先前编那么多含有多个参数的函数又是怎么回事? 呵，小伎俩! 所有多个参数的函数都是柯里函数。 什么意思呢? 取一个例子最好理解，就拿我们的好朋友<code class="language-text">max</code>函数说事吧。它看起来像是取两个参数，返回较大的那个数。 实际上，执行<code class="language-text">max 4 5</code>时，它会首先返回一个取一个参数的函数，其返回值不是4就是该参数，取决于谁大。 然后，以5为参数调用它，并取得最终结果。 这听着挺绕口的，不过这一概念十分的酷! 如下的两个调用是等价的：</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">max</span> <span class="token number">4</span> <span class="token number">5</span>
<span class="token number">5</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token builtin">max</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token number">5</span>
<span class="token number">5</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>[$img/curry.png]</p>
<p>把空格放到两个东西之间，称作<em>函数调用</em>。它有点像个运算符，并拥有最高的优先级。 看看max函数的类型: <code class="language-text">max :: (Ord a) => a -> a -> a</code>。 也可以写作: <code class="language-text">max :: (Ord a) => a -> (a -> a)</code>。 可以读作max取一个参数a，并返回一个函数(就是那个<code class="language-text">-></code>)，这个函数取一个a类型的参数，返回一个a。 这便是为何只用箭头来分隔参数和返回值类型。</p>
<p>这样的好处又是如何? 简言之，我们若以不全的参数来调用某函数，就可以得到一个<em>不全调用</em>的函数。 如果你高兴，构造新函数就可以如此便捷，将其传给另一个函数也是同样方便。</p>
<p>看下这个函数，简单至极:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">multThree</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Num</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token hvariable">a</span>
<span class="token hvariable">multThree</span> <span class="token hvariable">x</span> <span class="token hvariable">y</span> <span class="token hvariable">z</span> <span class="token operator">=</span> <span class="token hvariable">x</span> <span class="token operator">*</span> <span class="token hvariable">y</span> <span class="token operator">*</span> <span class="token hvariable">z</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>我们若执行<code class="language-text">mulThree 3 5 9</code>或<code class="language-text">((mulThree 3) 5) 9</code>，它背后是如何运作呢？ 首先，按照空格分隔，把<code class="language-text">3</code>交给<code class="language-text">mulThree</code>。 这返回一个返回函数的函数。 然后把<code class="language-text">5</code>交给它，返回一个取一个参数并使之乘以<code class="language-text">15</code>的函数。 最后把<code class="language-text">9</code>交给这一函数，返回<code class="language-text">135</code>。 想想，这个函数的类型也可以写作<code class="language-text">multThree :: (Num a) => a -> (a -> (a -> a))</code>，<code class="language-text">-></code>前面的东西就是函数取的参数，后面的东西就是其返回值。 所以说，我们的函数取一个<code class="language-text">a</code>，并返回一个类型为<code class="language-text">(Num a) => a -> (a -> a)</code>的函数，类似，这一函数返回一个取一个<code class="language-text">a</code>，返回一个类型为<code class="language-text">(Num a) => a -> a</code>的函数。 而最后的这个函数就只取一个<code class="language-text">a</code>并返回一个<code class="language-text">a</code>，如下:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token keyword">let</span> <span class="token hvariable">multTwoWithNine</span> <span class="token operator">=</span> <span class="token hvariable">multThree</span> <span class="token number">9</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token hvariable">multTwoWithNine</span> <span class="token number">2</span> <span class="token number">3</span>
<span class="token number">54</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token keyword">let</span> <span class="token hvariable">multWithEighteen</span> <span class="token operator">=</span> <span class="token hvariable">multTwoWithNine</span> <span class="token number">2</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token hvariable">multWithEighteen</span> <span class="token number">10</span>
<span class="token number">180</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>前面提到，以不全的参数调用函数可以方便地创造新的函数。例如，搞个取一数与100比较大小的函数该如何? 大可这样:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">compareWithHundred</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Num</span> <span class="token hvariable">a</span>，<span class="token constant">Ord</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token constant">Ordering</span>
<span class="token hvariable">compareWithHundred</span> <span class="token hvariable">x</span> <span class="token operator">=</span> <span class="token builtin">compare</span> <span class="token number">100</span> <span class="token hvariable">x</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>用99调用它，就可以得到一个<code class="language-text">GT</code>。 简单。 注意下在等号两边都有x。 想想<code class="language-text">compare 100</code>会返回什么？一个取一数与100比较的函数。 Wow，这不正是我们想要的? 这样重写:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">compareWithHundred</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Num</span> <span class="token hvariable">a</span>，<span class="token constant">Ord</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token constant">Ordering</span>
<span class="token hvariable">compareWithHundred</span> <span class="token operator">=</span> <span class="token builtin">compare</span> <span class="token number">100</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>类型声明依然相同，因为<code class="language-text">compare 100</code>返回函数。 compare的类型为<code class="language-text">(Ord a) => a -> (a -> Ordering)</code>，用100调用它后返回的函数类型为<code class="language-text">(Num a，Ord a) => a -> Ordering</code>，同时由于100还是<code class="language-text">Num</code>类型类的实例，所以还得另留一个类约束。</p>
<p>Yo! 你得保证已经弄明白了柯里函数与不全调用的原理，它们很重要！</p>
<p>中缀函数也可以不全调用，用括号把它和一边的参数括在一起就行了。 这返回一个取一参数并将其补到缺少的那一端的函数。 一个简单函数如下:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">divideByTen</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Floating</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token hvariable">a</span>
<span class="token hvariable">divideByTen</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>调用<code class="language-text">divideByTen 200</code> 就是<code class="language-text">(/10) 200</code>，和<code class="language-text">200 / 10</code>等价。</p>
<p>一个检查字符是否为大写的函数:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">isUpperAlphanum</span> <span class="token operator">::</span> <span class="token constant">Char</span> <span class="token operator">-></span> <span class="token constant">Bool</span>
<span class="token hvariable">isUpperAlphanum</span> <span class="token operator">=</span> <span class="token punctuation">(</span>`<span class="token builtin">elem</span>` <span class="token punctuation">[</span><span class="token char string">'A'</span><span class="token operator">..</span><span class="token char string">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>唯一的例外就是<code class="language-text">-</code>运算符，按照前面提到的定义，<code class="language-text">(-4)</code>理应返回一个并将参数减4的函数，而实际上，处于计算上的方便，<code class="language-text">(-4)</code>表示负<code class="language-text">4</code>。 若你一定要弄个将参数减4的函数，就用<code class="language-text">subtract</code>好了，像这样<code class="language-text">(subtract 4)</code>.</p>
<p>若不用<em>let</em>给它命名或传到另一函数中，在ghci中直接执行<code class="language-text">multThree 3 4</code>会怎样?</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token hvariable">multThree</span> <span class="token number">3</span> <span class="token number">4</span>
<span class="token operator">:</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">0</span><span class="token operator">:</span>
<span class="token constant">No</span> <span class="token keyword">instance</span> <span class="token hvariable">for</span> <span class="token punctuation">(</span><span class="token constant">Show</span> <span class="token punctuation">(</span><span class="token hvariable">t</span> <span class="token operator">-></span> <span class="token hvariable">t</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token hvariable">arising</span> <span class="token hvariable">from</span> <span class="token hvariable">a</span> <span class="token hvariable">use</span> <span class="token keyword">of</span> `<span class="token builtin">print</span>' <span class="token hvariable">at</span> <span class="token operator">:</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">12</span>
<span class="token constant">Possible</span> <span class="token hvariable">fix</span><span class="token operator">:</span> <span class="token hvariable">add</span> <span class="token hvariable">an</span> <span class="token keyword">instance</span> <span class="token hvariable">declaration</span> <span class="token hvariable">for</span> <span class="token punctuation">(</span><span class="token constant">Show</span> <span class="token punctuation">(</span><span class="token hvariable">t</span> <span class="token operator">-></span> <span class="token hvariable">t</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token constant">In</span> <span class="token hvariable">the</span> <span class="token hvariable">expression</span><span class="token operator">:</span> <span class="token builtin">print</span> <span class="token hvariable">it</span>
<span class="token constant">In</span> <span class="token hvariable">a</span> '<span class="token keyword">do</span>' <span class="token hvariable">expression</span><span class="token operator">:</span> <span class="token builtin">print</span> <span class="token hvariable">it</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>ghci说，这一表达式返回了一个<code class="language-text">a -> a</code>类型的函数，但它不知道该如何显示它。 函数不是<code class="language-text">Show</code>类型类的实例，所以我们不能得到表示一函数内容的字符串。 若在ghci中计算<code class="language-text">1+1</code>，它会首先计算得<code class="language-text">2</code>，然后调用<code class="language-text">show 2</code>得到该数值的字符串表示，即"2"，再输出到屏幕.</p>
<h2>是时候了，来点高阶函数！</h2>
<p>haskell中的函数可以取另一个函数做参数，也可以返回函数。 举个例子，我们弄个取一个函数并调用它两次的函数.</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">applyTwice</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token hvariable">a</span>  
<span class="token hvariable">applyTwice</span> <span class="token hvariable">f</span> <span class="token hvariable">x</span> <span class="token operator">=</span> <span class="token hvariable">f</span> <span class="token punctuation">(</span><span class="token hvariable">f</span> <span class="token hvariable">x</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>[$img/bonus.png]</p>
<p>首先注意这类型声明。 在此之前我们很少用到括号，因为<code class="language-text">(->)</code>是自然的右结合，不过在这里括号是必须的。 它标明了首个参数是个参数与返回值类型都是a的函数，第二个参数与返回值的类型也都是a。 我们可以用柯里函数的思路来理解这一函数，不过免得自寻烦恼，我们姑且直接把它看作是取两个参数返回一个值，其首个参数是个类型为<code class="language-text">(a->a)</code>的函数,第二个参数是个<code class="language-text">a</code>。 该函数的类型可以是<code class="language-text">(Int->Int)</code>，也可以是<code class="language-text">(String->String)</code>，但第二个参数必须与之一致。</p>
<blockquote>
<p>现在开始我们会直说某函数含有多个参数(除非它真的只有一个参数)。 以简洁之名，我们会说(a->a->a)取两个参数，尽管我们知道它在背后做的手脚.</p>
</blockquote>
<p>这个函数是相当的简单，就拿参数f当函数，用x调用它得到的结果再去调用它。 也就可以这样玩:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token hvariable">applyTwice</span> <span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token number">10</span>  
<span class="token number">16</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token hvariable">applyTwice</span> <span class="token punctuation">(</span><span class="token operator">++</span> <span class="token string">" HAHA"</span><span class="token punctuation">)</span> <span class="token string">"HEY"</span>  
<span class="token string">"HEY HAHA HAHA"</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token hvariable">applyTwice</span> <span class="token punctuation">(</span><span class="token string">"HAHA "</span> <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token string">"HEY"</span>  
<span class="token string">"HAHA HAHA HEY"</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token hvariable">applyTwice</span> <span class="token punctuation">(</span><span class="token hvariable">multThree</span> <span class="token number">2</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token number">9</span>  
<span class="token number">144</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token hvariable">applyTwice</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">:</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>看，不全调用多神奇! 如果有个函数要我们给它传个一元函数，大可以不全调用一个函数让它剩一个参数，再把它交出去。</p>
<p>接下来我们用高阶函数的编程思想来实现个标准库中的函数，它就是<code class="language-text">zipWith</code>。 它取一个函数和两个List做参数，并把两个List交到一起(使相应的元素去调用该函数)。 如下就是我们的实现:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token builtin">zipWith</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token hvariable">b</span> <span class="token operator">-></span> <span class="token hvariable">c</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token hvariable">b</span><span class="token punctuation">]</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token hvariable">c</span><span class="token punctuation">]</span>  
<span class="token builtin">zipWith</span>' <span class="token hvariable">_</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token hvariable">_</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
<span class="token builtin">zipWith</span>' <span class="token hvariable">_</span> <span class="token hvariable">_</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
<span class="token builtin">zipWith</span>' <span class="token hvariable">f</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token hvariable">y</span><span class="token operator">:</span><span class="token hvariable">ys</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token hvariable">f</span> <span class="token hvariable">x</span> <span class="token hvariable">y</span> <span class="token operator">:</span> <span class="token builtin">zipWith</span>' <span class="token hvariable">f</span> <span class="token hvariable">xs</span> <span class="token hvariable">ys</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>看下这个类型声明，它的首个参数是个函数，取两个参数处理交叉，其类型不必相同，不过相同也没关系。 第二三个参数都是List，返回值也是个List。 第一个List中元素的类型必须是a，因为这个处理交叉的函数的第一个参数是a。 第二个List中元素的类型必为b，因为这个处理交叉的函数第二个参数的类型是b。 返回的List中元素类型为c。 如果一个函数说取一个类型为<code class="language-text">a->b->c</code>的函数做参数，传给它个<code class="language-text">a->a->c</code>类型的也是可以的，但反过来就不行了。 可以记下，若在使用高阶函数的时候不清楚其类型为何，就先忽略掉它的类型声明，再到ghci下用<code class="language-text">:t</code>命令来看下haskell的类型推导.</p>
<p>这函数的行为与普通的<code class="language-text">zip</code>很相似，边界条件也是相同，只不过多了个参数，即处理元素交叉的函数。它关不着边界条件什么事儿，所以我们就只留一个_ 。后一个模式的函数体与zip也很像，只不过这里是<code class="language-text">f x y</code>而非<code class="language-text">(x,y)</code>。 只要足够通用，一个简单的高阶函数可以在不同的场合反复使用。 如下便是我们<code class="language-text">zipWith'</code>函数本领的冰山一角:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">zipWith</span>' <span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">zipWith</span>' <span class="token builtin">max</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">zipWith</span>' <span class="token punctuation">(</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"foo "</span>，<span class="token string">"bar "</span>，<span class="token string">"baz "</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token string">"fighters"</span>，<span class="token string">"hoppers"</span>，<span class="token string">"aldrin"</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token string">"foo fighters"</span><span class="token punctuation">,</span><span class="token string">"bar hoppers"</span><span class="token punctuation">,</span><span class="token string">"baz aldrin"</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">zipWith</span>' <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">replicate</span> <span class="token number">5</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">zipWith</span>' <span class="token punctuation">(</span><span class="token builtin">zipWith</span>' <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>如你所见，一个简单的高阶函数就可以玩出很多花样。 命令式语言使用for、while、赋值、状态检测来实现功能，再包起来留个接口，使之像个函数一样调用。而函数式语言使用高阶函数来抽象出常见的模式，像成对遍历并处理两个List或从中筛掉自己不需要的结果。</p>
<p>接下来实现标准库中的另一个函数flip，flip简单地取一个函数作参数并返回一个相似的函数，只是它们的两个参数倒了个。</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token builtin">flip</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token hvariable">b</span> <span class="token operator">-></span> <span class="token hvariable">c</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">(</span><span class="token hvariable">b</span> <span class="token operator">-></span> <span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token hvariable">c</span><span class="token punctuation">)</span>  
<span class="token builtin">flip</span>' <span class="token hvariable">f</span> <span class="token operator">=</span> <span class="token hvariable">g</span>  
    <span class="token keyword">where</span> <span class="token hvariable">g</span> <span class="token hvariable">x</span> <span class="token hvariable">y</span> <span class="token operator">=</span> <span class="token hvariable">f</span> <span class="token hvariable">y</span> <span class="token hvariable">x</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>从这类型声明中可以看出，它取一个函数，其参数类型分别为a和b，而它返回的函数的参数类型为b和a。 由于函数默认都是柯里化的，<code class="language-text">-></code> 为右结合，这里的第二对括号其实并无必要，<code class="language-text">(a -> b -> c) -> (b -> a -> c)</code>与<code class="language-text">(a -> b -> c) -> (b -> (a -> c))</code>等价,也与<code class="language-text">(a -> b -> c) -> b -> a -> c</code>等价。 前面我们写了<code class="language-text">g x y = f y x</code>，既然这样可行，那么<code class="language-text">f y x = g x y </code>不也一样? 这一来我们可以改成更简单的写法:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token builtin">flip</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token hvariable">b</span> <span class="token operator">-></span> <span class="token hvariable">c</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token hvariable">b</span> <span class="token operator">-></span> <span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token hvariable">c</span>  
<span class="token builtin">flip</span>' <span class="token hvariable">f</span> <span class="token hvariable">y</span> <span class="token hvariable">x</span> <span class="token operator">=</span> <span class="token hvariable">f</span> <span class="token hvariable">x</span> <span class="token hvariable">y</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>在这里我们就利用了柯里函数的优势，只要调用<code class="language-text">flip' f</code>而不带<code class="language-text">y</code>和<code class="language-text">x</code>，它就会返回一个俩参数倒个的函数。 <code class="language-text">flip</code>处理的函数往往都是用来传给其他函数调用，于是我们可以发挥柯里函数的优势，预先想好发生完全调用的情景并处理好返回值.</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">flip</span>' <span class="token builtin">zip</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token string">"hello"</span>  
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token char string">'h'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token char string">'e'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token char string">'l'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token char string">'l'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token char string">'o'</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">zipWith</span> <span class="token punctuation">(</span><span class="token builtin">flip</span>' <span class="token builtin">div</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">..</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<h2>map 与 filter</h2>
<p><strong>map</strong>取一个函数和List做参数，遍历该List的每个元素来调用该函数产生一个新的List。 看下它的类型声明和实现:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token builtin">map</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token hvariable">b</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token hvariable">b</span><span class="token punctuation">]</span>  
<span class="token builtin">map</span> <span class="token hvariable">_</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
<span class="token builtin">map</span> <span class="token hvariable">f</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token hvariable">f</span> <span class="token hvariable">x</span> <span class="token operator">:</span> <span class="token builtin">map</span> <span class="token hvariable">f</span> <span class="token hvariable">xs</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>从这类型声明中可以看出，它取一个取<code class="language-text">a</code>返回<code class="language-text">b</code>的函数和一组a的List，并返回一组b。 这就是haskell的有趣之处：有时只看类型声明就能对函数的行为猜个大致。 <code class="language-text">map</code>函数多才多艺，有一百万种用法。 如下是其中一小部分:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">++</span> <span class="token string">"!"</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"BIFF"</span><span class="token punctuation">,</span><span class="token string">"BANG"</span><span class="token punctuation">,</span><span class="token string">"POW"</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token string">"BIFF!"</span><span class="token punctuation">,</span><span class="token string">"BANG!"</span><span class="token punctuation">,</span><span class="token string">"POW!"</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token builtin">replicate</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token operator">..</span><span class="token number">6</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">49</span><span class="token punctuation">,</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">map</span> <span class="token builtin">fst</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>你可能会发现，以上的所有代码都可以用List Comprehension来替代。 <code class="language-text">map (+3) [1,5,3,1,6]</code> 与 <code class="language-text">[x+3 | x &lt;- [1,5,3,1,6]</code>完全等价。</p>
<p><strong>filter</strong>函数取一个限制条件和一个List，返回该List中所有符合该条件的元素。 它的类型声明及实现大致如下:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token builtin">filter</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token constant">Bool</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>  
<span class="token builtin">filter</span> <span class="token hvariable">_</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
<span class="token builtin">filter</span> <span class="token hvariable">p</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span>   
    <span class="token operator">|</span> <span class="token hvariable">p</span> <span class="token hvariable">x</span>       <span class="token operator">=</span> <span class="token hvariable">x</span> <span class="token operator">:</span> <span class="token builtin">filter</span> <span class="token hvariable">p</span> <span class="token hvariable">xs</span>  
    <span class="token operator">|</span> <span class="token builtin">otherwise</span> <span class="token operator">=</span> <span class="token builtin">filter</span> <span class="token hvariable">p</span> <span class="token hvariable">xs</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>很简单。 只要<code class="language-text">p x</code>所得的结果为真，就将这一元素加入新List，否则就无视之。几个使用范例:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">filter</span> <span class="token punctuation">(</span><span class="token operator">></span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">filter</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">filter</span> <span class="token builtin">even</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">10</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token keyword">let</span> <span class="token hvariable">notNull</span> <span class="token hvariable">x</span> <span class="token operator">=</span> <span class="token builtin">not</span> <span class="token punctuation">(</span><span class="token builtin">null</span> <span class="token hvariable">x</span><span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">filter</span> <span class="token hvariable">notNull</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">filter</span> <span class="token punctuation">(</span>`<span class="token builtin">elem</span>` <span class="token punctuation">[</span><span class="token char string">'a'</span><span class="token operator">..</span><span class="token char string">'z'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token string">"u LaUgH aT mE BeCaUsE I aM diFfeRent"</span>  
<span class="token string">"uagameasadifeent"</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">filter</span> <span class="token punctuation">(</span>`<span class="token builtin">elem</span>` <span class="token punctuation">[</span><span class="token char string">'A'</span><span class="token operator">..</span><span class="token char string">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token string">"i lauGh At You BecAuse u r aLL the Same"</span>  
<span class="token string">"GAYBALLS"</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>同样，以上都可以用List Comprehension的限制条件来实现。 并没有教条规定你必须在什么情况下用<code class="language-text">map</code>和<code class="language-text">filter</code>还是<em>List Comprehension</em>，选择权归你，看谁舒服用谁就是。 如果有多个限制条件，只能连着套好几个filter或用&#x26;&#x26;等逻辑函数的组合之，这时就不如list comprehension来得爽了。</p>
<p>还记得上一章的那个quicksort函数么? 我们用到了List Comprehension来过滤大于或小于锚的元素。 换做filter也可以实现，而且更加易读：</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">quicksort</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>    
<span class="token hvariable">quicksort</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    
<span class="token hvariable">quicksort</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span> <span class="token operator">=</span>     
    <span class="token keyword">let</span> <span class="token hvariable">smallerSorted</span> <span class="token operator">=</span> <span class="token hvariable">quicksort</span> <span class="token punctuation">(</span><span class="token builtin">filter</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token hvariable">x</span><span class="token punctuation">)</span> <span class="token hvariable">xs</span><span class="token punctuation">)</span>
        <span class="token hvariable">biggerSorted</span> <span class="token operator">=</span> <span class="token hvariable">quicksort</span> <span class="token punctuation">(</span><span class="token builtin">filter</span> <span class="token punctuation">(</span><span class="token operator">></span><span class="token hvariable">x</span><span class="token punctuation">)</span> <span class="token hvariable">xs</span><span class="token punctuation">)</span>   
    <span class="token keyword">in</span>  <span class="token hvariable">smallerSorted</span> <span class="token operator">++</span> <span class="token punctuation">[</span><span class="token hvariable">x</span><span class="token punctuation">]</span> <span class="token operator">++</span> <span class="token hvariable">biggerSorted</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>[^img/map.png]</p>
<p>map和filter是每个函数式程序员的面包黄油（呃，map和filter还是List Comprehension并不重要）。 想想前面我们如何解决给定周长寻找合适直角三角形的问题的? 在命令式编程中，我们可以套上三个循环逐个测试当前的组合是否满足条件，若满足，就打印到屏幕或其他类似的输出。 而在函数式编程中，这行就都交给map和filter。 你弄个取一参数的函数，把它交给map过一遍List，再filter之找到合适的结果。 感谢haskell的惰性，即便是你多次map一个list也只会遍历一遍该list，要找出小于100000的数中最大的3829的倍数，只需过滤结果所在的list就行了.</p>
<p>要找出<em>小于100000的3829的所有倍数</em>，我们应当过滤一个已知结果所在的list.</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">largestDivisible</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Integral</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token hvariable">a</span>  
<span class="token hvariable">largestDivisible</span> <span class="token operator">=</span> <span class="token builtin">head</span> <span class="token punctuation">(</span><span class="token builtin">filter</span> <span class="token hvariable">p</span> <span class="token punctuation">[</span><span class="token number">100000</span><span class="token punctuation">,</span><span class="token number">99999</span><span class="token operator">..</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
    <span class="token keyword">where</span> <span class="token hvariable">p</span> <span class="token hvariable">x</span> <span class="token operator">=</span> <span class="token hvariable">x</span> `<span class="token builtin">mod</span>` <span class="token number">3829</span> <span class="token operator">==</span> <span class="token number">0</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>首先， 取一个降序的小于100000所有数的List，然后按照限制条件过滤它。 由于这个List是降序的，所以结果List中的首个元素就是最大的那个数。 惰性再次行动! 由于我们只取这结果List的首个元素，所以它并不关心这List是有限还是无限的，在找到首个合适的结果处运算就停止了。</p>
<p>接下来，我们要<em>列出奇数的平方，并对小于 10000 的平方求和</em>，需要先提下<strong>takeWhile</strong>函数，它取一个限制条件和List作参数，然后从头开始遍历这一List，并返回符合限制条件的元素。 而一旦遇到不符合条件的元素，它就停止了。 如果我们要取出字符串 <code class="language-text">"elephants know how to party"</code> 中的首个单词，可以 <code class="language-text">takeWhile (/=' ') "elephants know how to party" </code>，返回 <code class="language-text">"elephants"</code> 。 okay，要求所有小于10000的奇数的平方的和，首先就用<code class="language-text">(^2)</code>函数map掉这个无限的List <code class="language-text">[1..]</code> 。然后过滤之，只取奇数就是了。 在大于10000处将它断开，最后前面的所有元素加到一起。 这一切连写函数都不用，在ghci下直接搞定.</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">sum</span> <span class="token punctuation">(</span><span class="token builtin">takeWhile</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token number">10000</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">filter</span> <span class="token builtin">odd</span> <span class="token punctuation">(</span><span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token number">166650</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>不错! 先从几个初始数据(表示所有自然数的无限list)，再map它，filter它，切它，直到它符合我们的要求，再将其加起来。 这用list comprehension也是可以的，而哪种方式就全看你的个人口味.</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token builtin">sum</span> <span class="token punctuation">(</span><span class="token builtin">takeWhile</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token number">10000</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token hvariable">m</span> <span class="token operator">|</span> <span class="token hvariable">m</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token hvariable">n</span><span class="token operator">^</span><span class="token number">2</span> <span class="token operator">|</span> <span class="token hvariable">n</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">odd</span> <span class="token hvariable">m</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
<span class="token number">166650</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>感谢haskell的惰性特质，这一切才得以实现。 我们之所以可以map或filter一个无限list，是因为它的操作不会被立即执行，而是拖延一下。 只有我们要求haskell交给我们sum的结果的时候，sum函数才会跟takeWhile说，它要这些数。 <code class="language-text">takeWhile</code>就再去要求filter和map行动起来，并在遇到大于等于10000时候停止.</p>
<p>下个问题与Collatz序列有关，取一个自然数，若为偶数就除以2。 若为奇数就乘以3再加1。 再用相同的方式处理所得的结果，得到一组数字构成的的链。 它有个性质，无论任何以任何数字开始，最终的结果都会归1。 所以若拿13当作起始数，就可以得到这样一个序列<em>13，40，20，10，5，16，8，4，2，1</em> 。13*3+1得40，40除2得20，如是继续，得到一个10个元素的链。</p>
<p>好的，我们想知道的是: 以1到100之间的所有数作为起始数，会有多少个链的长度大于15?</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">chain</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Integral</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>  
<span class="token hvariable">chain</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token hvariable">chain</span> <span class="token hvariable">n</span>  
    <span class="token operator">|</span> <span class="token builtin">even</span> <span class="token hvariable">n</span> <span class="token operator">=</span>  <span class="token hvariable">n</span><span class="token operator">:</span><span class="token hvariable">chain</span> <span class="token punctuation">(</span><span class="token hvariable">n</span> `<span class="token builtin">div</span>` <span class="token number">2</span><span class="token punctuation">)</span>  
    <span class="token operator">|</span> <span class="token builtin">odd</span> <span class="token hvariable">n</span>  <span class="token operator">=</span>  <span class="token hvariable">n</span><span class="token operator">:</span><span class="token hvariable">chain</span> <span class="token punctuation">(</span><span class="token hvariable">n</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>该链止于1，这便是边界条件。 标准的递归函数:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token hvariable">chain</span> <span class="token number">10</span>  
<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token hvariable">chain</span> <span class="token number">1</span>  
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">></span> <span class="token hvariable">chain</span> <span class="token number">30</span>  
<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">46</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token number">106</span><span class="token punctuation">,</span><span class="token number">53</span><span class="token punctuation">,</span><span class="token number">160</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>yay! 貌似工作良好。 现在由这个函数来告诉我们结果:</p>
<div class="gatsby-highlight" data-language="hs"><pre class="language-hs"><code class="language-hs"><span class="token punctuation">{</span><span class="token punctuation">{</span>
<span class="token hvariable">numLongChains</span> <span class="token operator">::</span> <span class="token constant">Int</span>  
<span class="token hvariable">numLongChains</span> <span class="token operator">=</span> <span class="token builtin">length</span> <span class="token punctuation">(</span><span class="token builtin">filter</span> <span class="token hvariable">isLong</span> <span class="token punctuation">(</span><span class="token builtin">map</span> <span class="token hvariable">chain</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    <span class="token keyword">where</span> <span class="token hvariable">isLong</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token builtin">length</span> <span class="token hvariable">xs</span> <span class="token operator">></span> <span class="token number">15</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>我们把chain函数map到<code class="language-text">[1..100]</code>，得到一组链的list，然后用个限制条件过滤长度大于15的链。 过滤完毕后就可以得出结果list中的元素个数.</p>
<blockquote>
<p>这函数的类型为 <code class="language-text">numLongChains :: Int</code> 。 这是由于历史原因，<code class="language-text">length</code>返回一个<code class="language-text">Int</code>而非<code class="language-text">Num</code>的成员类型，若要得到一个更通用的<code class="language-text">Num a</code>，我们可以使用<code class="language-text">fromInterval</code>函数来处理所得结果.</p>
</blockquote>
<p>用map，我们可以写出类似 <code class="language-text">map (*) [0..]</code> 之类的代码。 如果只是为了例证柯里函数和不全调用的函数是真正的值及其原理，那就是你可以把函数传递或把函数装在list中(只是你还不能将它们转换为字符串)。 迄今为止，我们还只是map单参数的函数到list，如<code class="language-text">map (*2) [0..]</code>可得一组类型为<code class="language-text">(Num a) => [a]</code>的list，而<code class="language-text">map (*) [0..]</code>也是完全没问题的。<code class="language-text">*</code> 的类型为<code class="language-text"> (Num a) -> a -> a -> a</code> ，用单个参数调用二元函数会返回一个一元函数。 如果用<code class="language-text">*</code>来map 一个<code class="language-text">[0..]</code>的list，就会得到一组一元函数组成的list，即<code class="language-text"> (Num a) => [a->a]</code>。 <code class="language-text">map (*) [0..]</code>所得的结果写起来大约就是<code class="language-text">[(*0),(*1),(*2)..]</code></p>
<p>{{
ghci> let listOfFuns = map (*) [0..]<br>
ghci> (listOfFuns !! 4) 5<br>
20
}}</p>
<p>取所得list的第四个元素可得一函数，与<code class="language-text">(*4)</code>等价。 然后用<code class="language-text">5</code>调用它，与<code class="language-text">(* 4) 5</code> 或<code class="language-text">4*5</code>都是等价的.</p>
<p>==lambda</p>
<p>[^img/lamb.png]</p>
<p>lambda就是匿名函数。有些时候我们需要传给高阶函数一个函数，而这函数我们只会用这一次，这就弄个特定功能的lambda。编写lambda，就写个<code class="language-text">\</code>（因为它看起来像是希腊字母的lambda--如果你斜视的厉害），后面是用空格分隔的参数，<code class="language-text">-></code>后面就是函数体。通常我们都是用括号将其括起，要不然它就会占据整个右边部分。</p>
<p>向上5英寸左右，你会看到我们在<code class="language-text">numLongChain</code>函数中用where语句声明了个<code class="language-text">isLong</code>函数传递给了filter。好的，用lambda代替它。</p>
<p>{{
numLongChains :: Int<br>
numLongChains = length (filter (\xs -> length xs > 15) (map chain [1..100]))<br>
}}</p>
<p>[$img/lambda.png]</p>
<p>lambda是个表达式，因此我们可以任意传递。表达式<code class="language-text">(\xs -> length xs > 15)</code>返回一个函数，它可以告诉我们一个list的长度是否大于15。</p>
<p>不熟悉柯里函数与不全调用的人们往往会写出很多lambda，而实际上大部分都是没必要的。例如，表达式<code class="language-text">map (+3) [1,6,3,2]</code>与<code class="language-text">map (\x -> x+3) [1,6,3,2]</code>等价，<code class="language-text">(+3)</code>和<code class="language-text">(\x -> x+3)</code>都是给一个数加上3。不用说，在这种情况下不用lambda要清爽的多。</p>
<p>和普通函数一样，lambda也可以取多个参数。</p>
<p>{{
ghci> zipWith (\a b -> (a * 30 + 3) / b) [5,4,3,2,1] [1,2,3,4,5]<br>
[153.0,61.5,31.0,15.75,6.6]
}}</p>
<p>同普通函数一样，你也可以在lambda中使用模式匹配，只是你无法为一个参数设置多个模式，如<code class="language-text">[]</code>和<code class="language-text">(x:xs)</code>。lambda的模式匹配若失败，就会引发一个运行时错误，所以慎用！</p>
<p>{{
ghci> map ((a,b) -> a + b) [(1,2),(3,5),(6,3),(2,6),(2,5)]<br>
[3,8,9,8,7]<br>
}}</p>
<p>一般情况下，lambda都是括在括号中，除非我们想要后面的整个语句都作为lambda的函数体。很有趣，由于有柯里化，如下的两段是等价的：</p>
<p>{{
addThree :: (Num a) => a -> a -> a -> a<br>
addThree x y z = x + y + z<br>
}}</p>
<p>{{
addThree :: (Num a) => a -> a -> a -> a<br>
addThree = \x -> \y -> \z -> x + y + z
}}</p>
<p>这样的函数声明与函数体中都有<code class="language-text">-></code>，这一来类型声明的写法就很明白了。当然第一段代码更易读，不过第二个函数使得柯里化更容易理解。</p>
<p>有些时候用这种语句写还是挺酷的，我觉得这应该是最易读的flip函数实现了：</p>
<p>{{
flip' :: (a -> b -> c) -> b -> a -> c<br>
flip' f = \x y -> f y x<br>
}}</p>
<p>尽管这与<code class="language-text">flip' f x y = f y x </code>等价，但它可以更明白地表示出它会产生一个新的函数。flip常用来处理一个函数，再将返回的新函数传递给map或filter。所以如此使用lambda可以更明确地表现出返回值是个函数，可以用来传递给其他函数作参数。</p>
<p>==折叠纸鹤</p>
<p>[$img/origami.png]</p>
<p>回到当初我们学习递归的情景。我们会发现处理list的许多函数都有固定的模式，通常我们会将边界条件设置为空list，再引入(x:xs)模式，对单个元素和余下的list做些事情。这一模式是如此常见，因此haskell引入了一组函数来使之简化，也就是fold。它们与map有点像，只是它们返回的是单个值。</p>
<p>一个fold取一个二元函数，一个初始值（我喜欢管它叫累加值）和一个需要fold（折叠）的list。这个二元函数有两个参数，即累加值和list的首项（或尾项），返回值是新的累加值。然后，以新的累加值和新的list首项调用该函数，如是继续。到list遍历完毕时，只剩下一个累加值，也就是最终的结果。</p>
<p>首先看下<strong>foldl</strong>函数，也叫做左折叠。它从list的左端开始折叠，用初始值和list的头部调用这二元函数，得一新的累加值，并用新的累加值与list的下一个元素调用二元函数。如是继续。</p>
<p>我们再实现下sum，这次用fold替代那复杂的递归：</p>
<p>{{
sum' :: (Num a) => [a] -> a<br>
sum' xs = foldl (\acc x -> acc + x) 0 xs<br>
}}</p>
<p>测试下，一二三～</p>
<p>{{
ghci> sum' [3,5,2,1]<br>
11
}}</p>
<p>[^img/foldl.png]</p>
<p>我们深入看下fold的执行过程：<code class="language-text">\acc x-> acc + x</code> 是个二元函数，<code class="language-text">0</code>是初始值，<code class="language-text">xs</code>是待折叠的list。一开始，累加值为<code class="language-text">0</code>，当前项为<code class="language-text">3</code>，调用二元函数<code class="language-text">0+3</code>得<code class="language-text">3</code>，作新的累加值。接着来，累加值为<code class="language-text">3</code>，当前项为<code class="language-text">5</code>，得新累加值<code class="language-text">8</code>。再往后，累加值为<code class="language-text">8</code>，当前项为<code class="language-text">2</code>，得新累加值<code class="language-text">10</code>。最后累加值为<code class="language-text">10</code>，当前项为<code class="language-text">1</code>，得<code class="language-text">11</code>。恭喜，你完成了一次折叠(fold)！</p>
<p>左边的这个图表示了折叠的执行过程，一步又一步（一天又一天!）。浅棕色的数字都是累加值，你可以从中看出list是如何从左端一点点加到累加值上的。唔对对对！如果我们考虑到函数的柯里化，可以写出更简单的实现：</p>
<p>{{
sum' :: (Num a) => [a] -> a<br>
sum' = foldl (+) 0<br>
}}</p>
<p>这个lambda函数<code class="language-text">(\acc x -> acc + x )</code>与(+)等价。我们可以把xs等一应参数省略掉，反正调用<code class="language-text">foldl (+) 0</code>会返回一个取list作参数的函数。通常，如果你的函数类似<code class="language-text">foo a = bar b a</code>， 大可改为<code class="language-text">foo = bar b</code>。有柯里化嘛。</p>
<p>呼呼，进入右折叠前我们再实现个用到左折叠的函数。大家肯定都知道elem是检查某元素是否属于某list的函数吧，我就不再提了（唔，刚提了）。用左折叠实现它:</p>
<p>{{
elem' :: (Eq a) => a -> [a] -> Bool<br>
elem' y ys = foldl (\acc x -> if x == y then True else acc) False ys<br>
}}</p>
<p>好好好，这里我们有什么？起始值与累加值都是布尔值。在处理fold时，累加值与最终结果的类型总是相同的。如果你不知道怎样对待起始值，那我告诉你，我们先假设它不存在，以False开始。我们要是fold一个空list，结果就是False。然后我们检查当前元素是否为我们寻找的，如果是，就令累加值为True，如果否，就保留原值不变。若False，及表明当前元素不是。若True，就表明已经找到了。</p>
<p>右折叠foldr的行为与左折叠相似，只是累加值是从list的右边开始。同样，左折叠的二元函数取累加值作首个参数，当前值为第二个参数（即<code class="language-text">\acc x -> ...</code>），而右折叠的二元函数参数的顺序正好相反（即<code class="language-text">\x acc -> ...</code>）。这倒也正常，毕竟是从右端开始折叠。</p>
<p>累加值可以是任何类型，可以是数值，布尔值，甚至一个新的list。我们可以用右fold实现map函数，累加值就是个list。将map处理过的元素一个一个连到一起。很容易想到，起始值就是空list。</p>
<p>{{
map' :: (a -> b) -> [a] -> [b]<br>
map' f xs = foldr (\x acc -> f x : acc) [] xs<br>
}}</p>
<p>如果我们用<code class="language-text">(+3)</code>来映射<code class="language-text">[1,2,3]</code>，它就会先到达list的右端，我们取最后那个元素，也就是<code class="language-text">3</code>来调用<code class="language-text">(+3)</code>，得<code class="language-text">6</code>。追加<code class="language-text">(:)</code>到累加值上，<code class="language-text">6:[]</code>得<code class="language-text">[6]</code>并成为新的累加值。用<code class="language-text">2</code>调用<code class="language-text">(+3)</code>，得<code class="language-text">5</code>，追加到累加值，于是累加值成了<code class="language-text">[5,6]</code>。再对<code class="language-text">1</code>调用<code class="language-text">(+3)</code>，并将结果4追加到累加值，最终得结果<code class="language-text">[4,5,6]</code>。</p>
<p>当然，我们也完全可以用左折叠来实现它，<code class="language-text">map' f xs = foldl (\acc x -> acc ++ [f x]) [] xs</code> 就行了。不过问题是，使用<code class="language-text">(++)</code>往list后面追加元素的效率要比使用<code class="language-text">(:)</code>低得多。所以在生成新list的时候人们一般都是使用右折叠。</p>
<p>[$img/washmachine.png]</p>
<p>反转一个list，既也可以通过右折叠，也可以通过左折叠。有时甚至不需要管它们的分别，如sum函数的左右折叠实现都是十分相似。不过有个大的不同，那就是右折叠可以处理无限长度的数据结构，而左折叠不可以。将无限list从中断开执行左折叠是可以的，不过若是向右，就永远到不了头了。</p>
<p><em>所有遍历list中元素并据此返回一个值的操作都可以交给fold实现</em>。无论何时需要遍历list并返回某值，都可以尝试下fold。因此，fold的地位可以说与map和filter并驾齐驱，同为函数式编程中最常用的函数之一。</p>
<p><strong>foldl1</strong>与<strong>foldr1</strong>的行为与<code class="language-text">foldl</code>和<code class="language-text">foldr</code>相似，只是你无需明确提供初始值。他们假定list的首个（或末尾）元素作为起始值，并从旁边的元素开始折叠。这一来，<code class="language-text">sum</code>函数大可这样实现：<code class="language-text">sum = foldl1 (+)</code>。这里待折叠的list中至少要有一个元素，若使用空list就会产生一个运行时错误。不过foldl和foldr与空list相处的就很好。所以在使用fold前，应该先想下它会不会遇到空list，如果不会遇到，大可放心使用<code class="language-text">foldr1</code>和<code class="language-text">foldl1</code>。</p>
<p>为了体会fold的威力，我们就用它实现几个库函数：</p>
<p>{{
maximum' :: (Ord a) => [a] -> a<br>
maximum' = foldr1 (\x acc -> if x > acc then x else acc)</p>
<p>reverse' :: [a] -> [a]<br>
reverse' = foldl (\acc x -> x : acc) []</p>
<p>product' :: (Num a) => [a] -> a<br>
product' = foldr1 (*)</p>
<p>filter' :: (a -> Bool) -> [a] -> [a]<br>
filter' p = foldr (\x acc -> if p x then x : acc else acc) []</p>
<p>head' :: [a] -> a<br>
head' = foldr1 (\x _ -> x)</p>
<p>last' :: [a] -> a<br>
last' = foldl1 (_ x -> x)</p>
<p>}}</p>
<p>仅靠模式匹配就可以实现head函数和last函数，而且效率也很高。这里只是为了演示，用fold的实现方法。我觉得我们这个reverse'定义的相当聪明，用一个空list做初始值，并向左展开list，从左追加到累加值，最后得到一个反转的新list。<code class="language-text">\acc x -> x : acc</code> 有点像<code class="language-text">:</code>函数，只是参数顺序相反。所以我们可以改成<code class="language-text"> foldl (flip (:)) []</code> 。</p>
<p>有个理解折叠的思路：假设我们有个二元函数f，起始值z，如果从右折叠<code class="language-text">[3,4,5,6]</code>，实际上执行的就是  <code class="language-text">f 3 (f 4 (f 5 (f 6 z))) </code>。f会被list的尾项和累加值调用，所得的结果会作为新的累加值传入下一个调用。假设f是<code class="language-text">(+)</code>，起始值z是<code class="language-text">0</code>，那么就是<code class="language-text">3 + (4 + (5 + (6 + 0)))</code>，或等价的前缀形式：<code class="language-text">(+) 3 ((+) 4 ((+) 5 ((+) 6 0)))</code>。相似，左折叠一个list，以g为二元函数，z为累加值，它就与<code class="language-text">g (g (g (g z 3) 4) 5) 6</code>等价。如果用<code class="language-text">flip (:)</code>作二元函数，<code class="language-text">[]</code>为累加值（看得出，我们是要反转一个list），这就与<code class="language-text">flip (:) (flip (:) (flip (:) (flip (:) [] 3) 4) 5) 6</code>等价。显而易见，执行该表达式的结果为<code class="language-text">[6,5,4,3]</code>。</p>
<p><strong>scanl</strong>和<strong>scanr</strong>与<code class="language-text">foldl</code>和<code class="language-text">foldr</code>相似，只是它们会记录下累加值的所有状态到一个list。也有<strong>scanl1</strong>和<strong>scanr1</strong>。</p>
<p>{{
ghci> scanl (+) 0 [3,5,2,1]<br>
[0,3,8,10,11]<br>
ghci> scanr (+) 0 [3,5,2,1]<br>
[11,8,3,1,0]<br>
ghci> scanl1 (\acc x -> if x > acc then x else acc) [3,4,5,3,7,9,2,1]<br>
[3,4,5,5,7,9,9,9]<br>
ghci> scanl (flip (:)) [] [3,2,1]<br>
[[],[3],[2,3],[1,2,3]]<br>
}}</p>
<p>当使用scanl时，最终结果就是list的最后一个元素。而在scanr中则是第一个。</p>
<p>{{
sqrtSums :: Int<br>
sqrtSums = length (takeWhile (&#x3C;1000) (scanl1 (+) (map sqrt [1..]))) + 1<br>
}}</p>
<p>{{
ghci> sqrtSums<br>
131<br>
ghci> sum (map sqrt [1..131])<br>
1005.0942035344083<br>
ghci> sum (map sqrt [1..130])<br>
993.6486803921487<br>
}}</p>
<p><code class="language-text">scan</code>可以用来跟踪fold函数的执行过程。想想这个问题，<em>取所有自然数的平方根的和，寻找在何处超过1000</em>？先<code class="language-text">map sqrt [1..]</code>，然后用个fold来求它们的和。但在这里我们想知道求和的过程，所以使用<code class="language-text">scan</code>，<code class="language-text">scan</code>完毕时就可以得到小于1000的所有和。所得结果list的第一个元素为1，第二个就是1+根2，第三个就是1+根2+根3。若有x个和小于1000，那结果就是x+1。</p>
<p>==有$的函数调用</p>
<p>好的，接下来看看**$**函数。它也叫作<em>函数调用符</em>。先看下它的定义：</p>
<p>{{
($) :: (a -> b) -> a -> b<br>
f $ x = f x<br>
}}</p>
<p>[^img/dollar.png]</p>
<p>什么鬼东西？这没啥意义的操作符？它只是个函数调用符罢了？好吧，不全是，但差不多。普通的函数调用符有最高的优先级，而<code class="language-text">$</code>的优先级则最低。用空格的函数调用符是左结合的，如f a b c与((f a) b) c等价，而$则是右结合的。</p>
<p>听着不错。但有什么用？它可以减少我们代码中括号的数目。试想有这个表达式： <code class="language-text">sum (map sqrt [1..130])</code>。由于低优先级的$，我们可以将其改为<code class="language-text">sum $ map sqrt [1..130]</code>，可以省敲不少键！<code class="language-text">sqrt 3 + 4 + 9</code> 会怎样？这会得到9，4和根3的和。若要取<code class="language-text">(3+4+9)</code>的平方根，就得<code class="language-text">sqrt (3+4+9)</code>或用<code class="language-text">$</code>：<code class="language-text"> sqrt $ 3+4+9</code>。因为<code class="language-text">$</code>有最低的优先级，所以你可以把$看作是在右面写一对括号的等价形式。</p>
<p><code class="language-text">sum (filter (> 10) (map (*2) [2..10]))</code>该如何？嗯，$是右结合，<code class="language-text">f (g (z x))</code>与<code class="language-text">f $ g $ z x</code>等价。所以我么可以将<code class="language-text">sum (filter (> 10) (map (*2) [2..10])</code>重写为<code class="language-text">sum $ filter (> 10) $ map (*2) [2..10]</code>。</p>
<p>除了减少括号外，$还可以将数据作为函数使用。例如映射一个函数调用符到一组函数组成的list：</p>
<p>{{
ghci> map ($ 3) [(4+),(10*),(^2),sqrt]<br>
[7.0,30.0,9.0,1.7320508075688772]<br>
}}</p>
<p>==函数组合</p>
<p>在数学中，函数组合是这样定义的： [img/composition.png]，表示组合两个函数成为一个函数。以x调用这一函数，就与用x调用g再用所得的结果调用f等价。</p>
<p>haskell中的函数组合与之很像，即**.**函数。其定义为：</p>
<p>{{
(.) :: (b -> c) -> (a -> b) -> a -> c<br>
f . g = \x -> f (g x)<br>
}}</p>
<p>[$img/notes.png]</p>
<p>注意下这类型声明，<code class="language-text">f</code>的参数类型必须与<code class="language-text">g</code>的返回类型相同。所以得到的组合函数的参数类型与<code class="language-text">g</code>相同，返回类型与<code class="language-text">f</code>相同。表达式<code class="language-text">negate . (*3)</code>返回一个求一数字乘以3后的负数的函数。</p>
<p>函数组合的用处之一就是生成新函数，并传递给其它函数。当然我们可以用lambda实现，但大多数情况下，使用函数组合无疑更直白。假设我们有一组由数字组成的list，要将其全部转为负数，很容易就想到应先取其绝对值，再取负数，像这样：</p>
<p>{{
ghci> map (\x -> negate (abs x)) [5,-3,-6,7,-3,2,-19,24]<br>
[-5,-3,-6,-7,-3,-2,-19,-24]<br>
}}</p>
<p>注意下这个lambda与那函数组合是多么的相像。用函数组合，我们可以将代码改为：</p>
<p>{{
ghci> map (negate . abs) [5,-3,-6,7,-3,2,-19,24]<br>
[-5,-3,-6,-7,-3,-2,-19,-24]<br>
}}</p>
<p>漂亮！函数组合是右结合的，我们同时组合多个函数。表达式<code class="language-text">f (g (z x))</code>与 <code class="language-text">(f . g . z) x</code> 等价。按照这个思路，我们可以将</p>
<p>{{
ghci> map (\xs -> negate (sum (tail xs))) [[1..5],[3..6],[1..7]]<br>
[-14,-15,-27]<br>
}}</p>
<p>改为：</p>
<p>{{
ghci> map (negate . sum . tail) [[1..5],[3..6],[1..7]]<br>
[-14,-15,-27]<br>
}}</p>
<p>不过含多个参数的函数该怎么办？好，我们可以使用不全调用使每个函数都只剩下一个参数。 <code class="language-text">sum (replicate 5 (max 6.7 8.9))</code> 可以重写为<code class="language-text">(sum . replicate 5 . max 6.7) 8.9</code>或<code class="language-text"> sum . replicate 5 . max 6.7 $ 8.9</code>。在这里会产生一个函数，它取与<code class="language-text">max 6.7</code>同样的参数，并使用结果调用<code class="language-text">replicate 5</code>再用<code class="language-text">sum</code>求和。最后用<code class="language-text">8.9</code>调用该函数。不过一般你可以这么读，用8.9调用<code class="language-text">max 6.7</code>，然后使它<code class="language-text">replicate 5</code>，再sum之。如果你打算用函数组合来替掉那堆括号，可以先在最靠近参数的函数后面加一个<code class="language-text">$</code>，接着就用<code class="language-text">.</code>组合其所有函数调用，而不用管最后那个参数。如果有这样一段代码：<code class="language-text">replicate 100 (product (map (*3) (zipWith max [1,2,3,4,5] [4,5,6,7,8])))</code>，可以改为：<code class="language-text">replicate 100 . product . map (*3) . zipWith max [1,2,3,4,5] $ [4,5,6,7,8]</code>。如果表达式以3个括号结尾，就表示你可以将其修改为函数组合的形式。</p>
<p>函数组合的另一用途就是定义point free style（也称作pointless style）的函数。就拿我们之前写的函数作例子：</p>
<p>{{
sum' :: (Num a) => [a] -> a<br>
sum' xs = foldl (+) 0 xs<br>
}}</p>
<p>等号的两端都有个xs。由于有柯里化（Currying），我们可以省掉两端的xs。<code class="language-text">foldl (+) 0</code>返回的就是一个取一list作参数的函数，我们把它修改为<code class="language-text">sum' = foldl (+) 0</code>，这就是point free style。下面这个函数又该如何改成point free style呢？</p>
<p>{{
fn x = ceiling (negate (tan (cos (max 50 x))))<br>
}}</p>
<p>像刚才那样简单去掉两端的x是不行的，函数体中x的右边还有括号。cos (max 50)是有错误的，你不能求一个函数的余弦。我们的解决方法就是，使用函数组合。</p>
<p>{{
fn = ceiling . negate . tan . cos . max 50<br>
}}</p>
<p>漂亮！point free style会令你去思考函数的组合方式，而非数据的传递方式，更加简洁直白。你可以将一组简单的函数组合在一起，使之形成一个复杂的函数。不过函数若过于复杂，再使用point free style往往会适得其反，因此构造较长的函数组合链是不被鼓励的（虽然我本人热衷于函数组合）。更好的解决方法，就是使用let语句给中间的运算结果绑定一个名字，或者说把问题分解成几个小问题再组合到一起。这样一来我们代码的读者就可以轻松些，不必要纠结那巨长的函数组合链了。</p>
<p>在map和filter那节中，我们求了小于10000的所有奇数的平方的和。如下就是将其置于一个函数中的样子：</p>
<p>{{
oddSquareSum :: Integer<br>
oddSquareSum = sum (takeWhile (&#x3C;10000) (filter odd (map (^2) [1..])))<br>
}}</p>
<p>身为函数组合狂人，我可能会这么写：</p>
<p>{{
oddSquareSum :: Integer<br>
oddSquareSum = sum . takeWhile (&#x3C;10000) . filter odd . map (^2) $ [1..]<br>
}}</p>
<p>不过若是给别人看，我可能就这么写了：</p>
<p>{{
oddSquareSum :: Integer<br>
oddSquareSum =<br>
let oddSquares = filter odd $ map (^2) [1..]<br>
belowLimit = takeWhile (&#x3C;10000) oddSquares<br>
in  sum belowLimit<br>
}}</p>
<p>这段代码可赢不了代码花样大赛，不过我们的读者可能会觉得它比函数组合链更好看。</p></div><div class="css-gjwx19"><p class="css-86uhag">SHARE ON:</p><ul class="css-7c9av6"><li class="css-x76up1"><a target="_blank" href="https://twitter.com/intent/tweet?text=http://lit-forest.github.io/blog/2021/09/13/06-higher-order-functions.html" class="css-1eushs4"><i class="icon-twitter"></i><span class="share css-gyrv08">Twitter</span></a></li><li class="css-x76up1"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://lit-forest.github.io/blog/2021/09/13/06-higher-order-functions.html" class="css-9st2on"><i class="icon-facebook"></i><span class="share css-gyrv08">Facebook</span></a></li><li class="css-x76up1"><a target="_blank" href="https://plus.google.com/share?url=http://lit-forest.github.io/blog/2021/09/13/06-higher-order-functions.html" class="css-oqtow6"><i class="icon-google-plus"></i><span class="share css-gyrv08">Google+</span></a></li><li class="css-x76up1"><a target="_blank" href="https://www.reddit.com/submit?url=http://lit-forest.github.io/blog/2021/09/13/06-higher-order-functions.html" class="css-92irrj"><i class="icon-reddit"></i><span class="share css-gyrv08">Reddit</span></a></li></ul></div></div></article><div class="css-5nmmc4"><div style="opacity:0;transition:opacity 0.5s ease" class="css-1vrdrc4"><div style="transform:translate(0px, 40px);transition:transform 0.5s ease" class="css-e7nlp3"><nav class="css-kh5h8y css-1aai96l"></nav></div></div></div></div></div></div></div></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2021/09/13/06-higher-order-functions.html";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-8c3cefde6b26c567f2e1.js"],"app":["/app-2da2baf1ea42ef5ec3ab.js"],"component---src-pages-404-js":["/component---src-pages-404-js-b23ae620d8a2574e5a95.js"],"component---src-pages-archive-index-js":["/component---src-pages-archive-index-js-99522bf01299d1d6b893.js"],"component---src-pages-categories-index-js":["/component---src-pages-categories-index-js-0d02e22a904571bdc8c1.js"],"component---src-pages-index-js":["/component---src-pages-index-js-7a3a76f8a841248ad2fd.js"],"component---src-pages-resume-index-js":["/component---src-pages-resume-index-js-a2bffa6221ec98aa34e7.js"],"component---src-pages-s-index-js":["/component---src-pages-s-index-js-c09a7e6d69ed619e24a4.js"],"component---src-templates-blog-template-js":["/component---src-templates-blog-template-js-67148830b6899868fcd2.js"]};/*]]>*/</script><script src="/polyfill-8c3cefde6b26c567f2e1.js" nomodule=""></script><script src="/component---src-templates-blog-template-js-67148830b6899868fcd2.js" async=""></script><script src="/8b4e6025f464e9cebcbb2d5697e5d8bd86d9dc4c-cca36b705ed268e7ad36.js" async=""></script><script src="/app-2da2baf1ea42ef5ec3ab.js" async=""></script><script src="/framework-3413ebc5e40f5b37083e.js" async=""></script><script src="/webpack-runtime-28820cc0d1eb9923685e.js" async=""></script></body></html>