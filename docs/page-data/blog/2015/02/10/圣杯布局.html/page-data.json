{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/2015/02/10/圣杯布局.html","result":{"data":{"markdownRemark":{"html":"<p>圣杯布局算是一个\"古老\"的话题了，关于其来源网上资料众多，在此不多做表述。\n下面看一下实现的过程，先看HTML结构：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>header</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>header<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>header<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>header</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>main<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>content<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>content<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>left<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>left<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>right<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>right<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>footer</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>footer<span class=\"token punctuation\">'</span></span><span class=\"token punctuation\">></span></span>footer<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>footer</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>下面来一步一步的实现圣杯布局的样式：</p>\n<ul>\n<li>首先实现<code class=\"language-text\">header</code>,<code class=\"language-text\">main</code>,<code class=\"language-text\">footer</code>的上中下三大块的布局</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.header</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> rebeccapurple<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token selector\">.footer</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> hotpink<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token selector\">.main</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 200px 0 150px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>我们将main的内边距设置为左右两边各自的宽度。它看起来就像这样：</p>\n<p><img src=\"../../images/shengbei_01.gif\" alt=\"圣杯布局第一步\"></p>\n<ul>\n<li>有了基本的大结构，现在可以把中间部分的三列加进去，并将它们设置为<code class=\"language-text\">float:left</code></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.content</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> yellowgreen<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">float</span><span class=\"token punctuation\">:</span>left<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token selector\">.left</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> aquamarine<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">float</span><span class=\"token punctuation\">:</span>left<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token selector\">.right</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 150px<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> aquamarine<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 400px<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">float</span><span class=\"token punctuation\">:</span>left<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token selector\">.footer</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> hotpink<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">clear</span><span class=\"token punctuation\">:</span> both<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>由于<code class=\"language-text\">content</code>占据了100%的宽度，所以left和right只能放在下一排了，同时footer要清除浮动的影响</p>\n<p><img src=\"../../images/shengbei_02.gif\" alt=\"圣杯布局第二步\"></p>\n<ul>\n<li>把左侧栏放上去</li>\n</ul>\n<p>中间栏已经就位，剩下的事情就是把左右两栏放上去了，接下来我们先放左侧栏。\n为了详述过程，这里将分为两个小步骤。首先，我们先将它的外边距设置为 -100%，这样一来，由于浮动的关系，左侧栏就能上位，与中间栏交叠在一起，并占据了左边。而右侧栏由于左侧栏的上位，自动向前浮动到了原来左侧栏的位置。</p>\n<p>接着我们要用到相对定位属性（relative），并设置一个与左侧栏等宽的偏移量：</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.left</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> aquamarine<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">float</span><span class=\"token punctuation\">:</span> left<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> -100%<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> -200px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"../../images/shengbei_03.gif\" alt=\"圣杯布局第三步\"></p>\n<p>可以看到，它设置的<code class=\"language-text\">left</code>属性就是相对于<code class=\"language-text\">main</code>的左边线向左偏移200px，如此一来，它就完美地跑到了<code class=\"language-text\">main</code>左内边距的位置，也就是我们希望它呆的地方，如下图所示：</p>\n<p><img src=\"../../images/shengbei_04.gif\" alt=\"圣杯布局第三步\"></p>\n<ul>\n<li>把右边栏放上去</li>\n</ul>\n<p>最后，我们需要把右侧栏放上去，此时只需利用上面的原理把他放到<code class=\"language-text\">main</code>的右外边距的位置即可，我们需要再一次设置一个负外边距的值，它等于右侧栏的宽度,然后使用相对定位，把右边栏向右挪动本身宽度的距离</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.right</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 150px<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> aquamarine<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 400px<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">float</span><span class=\"token punctuation\">:</span> left<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> -150px<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> -150px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p><img src=\"../../images/shengbei_05.gif\" alt=\"圣杯布局第四步\"></p>\n<h3>疑惑</h3>\n<p>上面的第三步，把左侧栏放上去这一过程，有很多人有疑惑，为什么设置<code class=\"language-text\">margin-left : -100%</code>,就可以让左侧部分上去呢？</p>\n<p>现在我们知道这三个盒子全都脱离了文档流，那么让元素\"爬升\"至上一行，需要用到负margin，这个负margin是多少呢？这又要看他的上一行中还留下多长的\"空白\"，这个\"空白\"是用来放待上位元素减去负margin值（多说一句，当然减的是绝对值）的那一部分。因此用待上位元素的宽度（包括padding）减去这个\"空白\"的宽度，即为负margin的值。下面画两张图理解：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; margin:0;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ff0931de72ec7c22b9acb73d03947421/4b190/shengbei001.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.95652173913043%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAME/8QAFwEAAwEAAAAAAAAAAAAAAAAAAQIDBf/aAAwDAQACEAMQAAAB3UMmwIf/xAAXEAADAQAAAAAAAAAAAAAAAAACEBES/9oACAEBAAEFAqW1/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/AZGv/8QAGBEAAgMAAAAAAAAAAAAAAAAAABEBAgP/2gAIAQIBAT8BnWyQj//EABYQAQEBAAAAAAAAAAAAAAAAABEQIf/aAAgBAQAGPwIMv//EABkQAAEFAAAAAAAAAAAAAAAAAAEAEBEhUf/aAAgBAQABPyGhBsot/9oADAMBAAIAAwAAABAMH//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxAdWUX/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/EIavIKtP/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARITFB/9oACAEBAAE/EEiszV0d8gsq6nOrP//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"负margin\"\n        title=\"负margin\"\n        src=\"/static/ff0931de72ec7c22b9acb73d03947421/4b190/shengbei001.jpg\"\n        srcset=\"/static/ff0931de72ec7c22b9acb73d03947421/e83b4/shengbei001.jpg 230w,\n/static/ff0931de72ec7c22b9acb73d03947421/e41a8/shengbei001.jpg 460w,\n/static/ff0931de72ec7c22b9acb73d03947421/4b190/shengbei001.jpg 800w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>设置 margin-left : -34px后效果：（两张图貌似大小不对等，我标注时没量，请脑补一下上图空白处166px与下图的166px大小一样就是了）</p>\n<p><img src=\"../images/shengbei002.jpeg\" alt=\"负margin\"></p>\n<p>margin-left负值可以把元素向左拉动，并且不占用原来的位置，而浮动元素只有当一行放不下的时候，才会把元素\"挤\"入下一行，那么上面的例子，设置<code class=\"language-text\">margin-left: -34px</code>之后,可以把元素绿色元素向左拉动'34px'，这一行的宽度将会刚刚好能放下两个元素。这个时候绿色元素正好实现了上位。</p>\n<h4>那么在此布局中，让left盒子\"爬升\"：</h4>\n<ul>\n<li>a. 首先，我们发现left的上一行没有给它留一丁点\"空白\"，即\"空白\"=0，按照上面解释的，left宽度减去\"空白\"宽，那么left向左移动200px它就\"上位\"成功了</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* 此非圣杯布局中的css，仅作解释说明用 */</span>\n<span class=\"token selector\">.left</span><span class=\"token punctuation\">{</span>\n        <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> -200px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>现在的效果：</p>\n<p><img src=\"../images/shengbei003.jpeg\" alt=\"负margin\"></p>\n<p>left\"上位\"成功了！不过排在<code class=\"language-text\">main</code>的末端，我们要让它到最左侧。如果你以前不清楚如何进行圣杯布局，到这里可能会有点蒙圈，这移动到左边的距离可咋算？那么咱们进行下一步:</p>\n<ul>\n<li>b. 我们先让left盒子移动到父容器<code class=\"language-text\">main</code>的左侧，即上图中m与n重合。假设<code class=\"language-text\">main</code>宽度为x，left还需左移（x-200）px,还记得left怎么上的位么？设置<code class=\"language-text\">margin-left:-200px</code>！考验小学数学功底的时间到了</li>\n</ul>\n<p>问：left上位所必需的的200px占<code class=\"language-text\">main</code>宽度（去padding）的百分比是多少？\n答： 200/x</p>\n<p>问：据上图看，left上位后mn重合所移动距离占<code class=\"language-text\">main</code>宽度（去padding）的百分比是多少？\n答：(x-200)/x</p>\n<p>问： left完成上位过程所移动的距离占<code class=\"language-text\">main</code>宽度（去padding）的百分比是多少？\n答： (200/x) + (x-200)/x = 100%</p>\n<p>问：<code class=\"language-text\">main</code>是不是left的父元素？\n答：是</p>\n<p>到这里，你的小学老师表示很欣慰=_=\n这里还牵扯到一个基础知识，<code class=\"language-text\">margin-left</code>设置百分比是相对于父元素宽度的，这个宽度是不包括padding在内的。\n综上，用margin-left完成left\"上位\"，只需设置</p>\n<p>.left{\nmargin-left: -100%\n}\n到这里，有疑惑的同学就该明白这-100%到底怎么回事了吧！</p>","excerpt":"圣杯布局算是一个\"古老\"的话题了，关于其来源网上资料众多，在此不多做表述。\n下面看一下实现的过程，先看HTML结构： 下面来一步一步的实现圣杯布局的样式： 首先实现,,的上中下三大块的布局 我们将main的内边距设置为左右两边各自的宽度。它看起来就像这样： 圣杯布局第一步 有了基本的大结构，现在可以把中间部分的三列加进去，并将它们设置为 由于占据了100%的宽度，所以left和right只能放在下一排了，同时footer…","fields":{"slug":"/blog/2015/02/10/圣杯布局.html","date":"February 09, 2015"},"frontmatter":{"title":"CSS 圣杯布局","img":"./img/2015-02-10.jpg","author":["sylvenas"],"categories":"CSS"}}},"pageContext":{"slug":"/blog/2015/02/10/圣杯布局.html"}},"staticQueryHashes":[]}